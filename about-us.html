<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>About Us - Psyche Panacea</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="icon" href="/images/psypan-logo-transparent.png">
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans:wght@400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            primary: '#0052cc',
            secondary: '#4da8ff',
            dark: '#1a1a1a',
            light: '#f8f9fa',
            accent: '#f59e0b',
          },
          fontFamily: {
            poppins: ['Poppins', 'sans-serif']
          },
          animation: {
            'fade-in': 'fadeIn 1s ease-out',
            'slide': 'slide 25s linear infinite',
            'popup-fade': 'popupFadeIn 0.5s ease forwards',
            'slide-up': 'slideUp 0.5s ease forwards',
            'message-fade': 'messageFadeIn 0.3s ease',
            'float': 'float 6s ease-in-out infinite',
          },
          keyframes: {
            fadeIn: {
              from: { opacity: 0 },
              to: { opacity: 1 },
            },
            slide: {
              '0%': { transform: 'translateX(100%)' },
              '100%': { transform: 'translateX(-100%)' },
            },
            popupFadeIn: {
              from: { transform: 'scale(0.7)', opacity: 0 },
              to: { transform: 'scale(1)', opacity: 1 },
            },
            slideUp: {
              from: { transform: 'translateY(30px)', opacity: 0 },
              to: { transform: 'translateY(0)', opacity: 1 },
            },
            messageFadeIn: {
              from: { opacity: 0, transform: 'translateY(10px)' },
              to: { opacity: 1, transform: 'translateY(0)' },
            },
            float: {
              '0%, 100%': { transform: 'translateY(0)' },
              '50%': { transform: 'translateY(-15px)' },
            }
          }
        }
      }
    }
  </script>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Noto Sans', sans-serif;
      background-color: #ffffff;
      color: #1a1a1a;
      overflow-x: hidden;
    }

    .tab-gradient {
      background: linear-gradient(135deg, #0052cc, #4da8ff);
    }

    /* Fixed navbar solution */
    header {
      background-color: rgba(255, 255, 255, 0.95);
      backdrop-filter: blur(10px);
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
      position: fixed;
      top: 0;
      width: 100%;
      z-index: 1000;
      padding: 1.2rem 3rem;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    nav a {
      position: relative;
      transition: color 0.3s ease;
    }

    nav a::after {
      content: '';
      position: absolute;
      width: 0;
      height: 2px;
      bottom: -4px;
      left: 0;
      background-color: #0052cc;
      transition: width 0.3s ease;
    }

    nav a:hover::after {
      width: 100%;
    }

    /* Tab Navigation */
    .tab-nav {
      display: flex;
      justify-content: center;
      margin: 2rem 0;
    }

    .tab-btn {
      padding: 1rem 2rem;
      font-size: 1.1rem;
      font-weight: 600;
      background: white;
      border: none;
      cursor: pointer;
      transition: all 0.3s ease;
      border-bottom: 3px solid transparent;
      color: #555;
    }

    .tab-btn.active {
      color: #0052cc;
      border-bottom: 3px solid #0052cc;
      background: rgba(0, 82, 204, 0.05);
    }

    .tab-btn:hover:not(.active) {
      background: rgba(0, 82, 204, 0.1);
    }

    /* Tab Content */
    .tab-content {
      display: none;
      animation: fadeIn 0.5s ease forwards;
    }

    .tab-content.active {
      display: block;
    }

    /* Careers Section */
    .career-card {
      transition: all 0.4s ease;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
    }

    .career-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 15px 40px rgba(0, 82, 204, 0.2);
    }

    /* Client Grid */
    .client-gallery {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
      gap: 2rem;
      place-items: center;
    }

    .client-card {
      height: 120px;
      display: flex;
      align-items: center;
      justify-content: center;
      background: white;
      border-radius: 12px;
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
      transition: all 0.3s ease;
      overflow: hidden;
      width: 100%;
    }

    .client-card:hover {
      transform: scale(1.05);
      box-shadow: 0 10px 25px rgba(0, 82, 204, 0.15);
    }

    /* Testimonial Carousel */
    .testimonial-slide {
      display: none;
      animation: fadeIn 0.8s ease;
    }

    .testimonial-slide.active {
      display: block;
    }

    .rating i {
      color: #f59e0b;
      font-size: 1.2rem;
    }

    /* Responsive Adjustments */
    @media (max-width: 768px) {

      .tab-btn {
        padding: 0.8rem 1.2rem;
        font-size: 0.9rem;
      }

      .client-gallery {
        grid-template-columns: repeat(2, 1fr);
        gap: 1rem;
      }

      .client-card {
        height: 100px;
      }
    }

    .floating-element {
      animation: float 6s ease-in-out infinite;
    }

    @keyframes float {

      0%,
      100% {
        transform: translateY(0);
      }

      50% {
        transform: translateY(-15px);
      }
    }

    .client-card {
      transition: transform 0.3s ease, box-shadow 0.3s ease;
      cursor: pointer;
      background-color: #f9fafb;
    }

    .client-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
    }

    .lightbox {
      animation: fadeIn 0.3s ease-out;
    }

    .lightbox-content {
      animation: scaleIn 0.3s ease-out;
    }

    @keyframes fadeIn {
      from {
        opacity: 0;
      }

      to {
        opacity: 1;
      }
    }

    @keyframes scaleIn {
      from {
        transform: scale(0.9);
      }

      to {
        transform: scale(1);
      }
    }

    .filter-btn.active {
      background-color: #2563eb;
      color: white;
    }

    @media (max-width: 480px) {

      .chatbot-window {
        max-width: 90vw;
        right: 5px;
      }

      .chatbot-input {
        padding: 0.5rem;
      }

      .chatbot-input input {
        padding: 0.5rem;
      }

      .chatbot-toggle {
        width: 50px;
        height: 50px;
      }
    }

    /* Map container */
    .map-container {
      height: 300px;
    }

    /* Mobile menu fixes */
    #mobile-menu {
      position: fixed;
      left: 0;
      right: 0;
      top: 20px;
      background: white;
      z-index: 1000;
      box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
      /* Start hidden */
    }

    /* Mobile menu visible */
    #mobile-menu.active {
      display: block;
    }

    /* Mobile menu links */
    #mobile-menu a {
      display: block;
      padding: 12px 20px;
      color: #333;
      text-decoration: none;
      border-bottom: 1px solid #eee;
      transition: background 0.3s;
    }

    #mobile-menu a:hover {
      background-color: #f0f7ff;
    }

    /* Active link in mobile menu */
    #mobile-menu a.active {
      background-color: #e6f2ff;
      color: #0052cc;
    }

    /* File Upload Styles */
    .file-upload-container {
      margin-bottom: 1.5rem;
    }

    #resume {
      display: none;
    }

    .file-upload-label {
      display: block;
      padding: 0.75rem 1.5rem;
      background: linear-gradient(135deg, #0052cc, #4da8ff);
      color: white;
      font-weight: 600;
      border-radius: 8px;
      cursor: pointer;
      transition: all 0.3s ease;
      text-align: center;
    }

    .file-upload-label:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(0, 82, 204, 0.3);
    }

    .file-upload-label i {
      margin-right: 8px;
    }

    .file-name {
      margin-top: 10px;
      padding: 8px 12px;
      border-radius: 6px;
      background-color: #f0f7ff;
      color: #0052cc;
      display: none;
    }

    .upload-status {
      margin-top: 10px;
      padding: 8px 12px;
      border-radius: 6px;
      display: none;
    }

    .upload-success {
      background-color: #f0fff4;
      color: #38a169;
      border: 1px solid #c6f6d5;
    }

    .upload-error {
      background-color: #fff5f5;
      color: #e53e3e;
      border: 1px solid #fed7d7;
    }

    .loading-indicator {
      display: none;
      text-align: center;
      padding: 1rem;
    }

    .spinner {
      border: 4px solid rgba(0, 0, 0, 0.1);
      width: 36px;
      height: 36px;
      border-radius: 50%;
      border-left-color: #0052cc;
      animation: spin 1s linear infinite;
      margin: 0 auto;
    }

    @keyframes spin {
      0% {
        transform: rotate(0deg);
      }

      100% {
        transform: rotate(360deg);
      }
    }

    /* PDF Viewer */
    .pdf-viewer {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.9);
      z-index: 2000;
    }

    .pdf-container {
      width: 90%;
      height: 90%;
      margin: 2% auto;
      background: white;
      border-radius: 8px;
      overflow: hidden;
    }

    .pdf-toolbar {
      background: #0052cc;
      color: white;
      padding: 10px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .pdf-frame {
      width: 100%;
      height: calc(100% - 45px);
      border: none;
    }

    /* New styles for the solution */
    .download-container {
      display: flex;
      flex-direction: column;
      gap: 10px;
      margin-top: 15px;
    }

    .download-button {
      display: flex;
      align-items: center;
      gap: 8px;
      padding: 10px 15px;
      background-color: #f0f7ff;
      border: 1px solid #cbd5e0;
      border-radius: 6px;
      color: #0052cc;
      text-decoration: none;
      font-weight: 500;
      transition: all 0.3s ease;
    }

    .download-button:hover {
      background-color: #e6f2ff;
      transform: translateY(-2px);
    }

    .view-button {
      background-color: #f0fff4;
      color: #38a169;
      border-color: #c6f6d5;
    }

    .view-button:hover {
      background-color: #e6ffee;
    }

    /* Success Animation */
    @keyframes successAnimation {
      0% {
        transform: scale(0.5);
        opacity: 0;
      }

      70% {
        transform: scale(1.1);
        opacity: 1;
      }

      100% {
        transform: scale(1);
        opacity: 1;
      }
    }

    .success-animation {
      animation: successAnimation 0.7s ease forwards;
    }
  </style>
</head>

<body>
  <!-- Header -->
  <header>
    <div class="flex items-center space-x-2">
      <img class="h-12 w-14" src="/images/psypan-logo-transparent.png" alt="Psyche Panacea">
      <div class="text-2xl font-bold text-primary">Psyche Panacea</div>
    </div>

    <nav class="hidden md:flex items-center space-x-6">
      <a href="index.html" class="text-gray-700 hover:text-primary transition-colors px-2 py-1">Home</a>
      <a href="services.html" class="text-gray-700 hover:text-primary transition-colors px-2 py-1">Services</a>
      <a href="flagship-programs.html" class="text-gray-700 hover:text-primary transition-colors px-2 py-1">Flagship
        Programs</a>
      <a href="events.html" class="text-gray-700 hover:text-primary transition-colors px-2 py-1">Events</a>
      <a href="gallery.html" class="text-gray-700 hover:text-primary transition-colors px-2 py-1">Gallery</a>
      <a href="about-us.html" class="text-primary font-semibold transition-colors px-2 py-1">About Us</a>
      <a href="blogs.html" class="text-gray-700 hover:text-primary transition-colors px-2 py-1">Blogs</a>
      <a href="contact.html" class="text-gray-700 hover:text-primary transition-colors px-2 py-1">Contact</a>
    </nav>

    <!-- Mobile Menu Button -->
    <div class="md:hidden flex items-center">
      <button id="mobile-menu-button" class="text-gray-700 hover:text-primary">
        <svg class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
        </svg>
      </button>
    </div>
  </header>

  <!-- Mobile Dropdown Menu -->
  <div id="mobile-menu" class="mt-16 md:hidden bg-white shadow-lg rounded-b-lg hidden">
    <div class="px-2 pt-2 pb-3 space-y-1 sm:px-3">
      <a href="index.html"
        class="block px-3 py-2 rounded-md text-base font-medium text-gray-700 hover:text-primary hover:bg-blue-50">Home</a>
      <a href="services.html"
        class="block px-3 py-2 rounded-md text-base font-medium text-gray-700 hover:text-primary hover:bg-blue-50">Services</a>
      <a href="flagship-programs.html"
        class="block px-3 py-2 rounded-md text-base font-medium text-gray-700 hover:text-primary hover:bg-blue-50">Flagship
        Programs</a>
      <a href="events.html"
        class="block px-3 py-2 rounded-md text-base font-medium text-gray-700 hover:text-primary hover:bg-blue-50">Events</a>
      <a href="gallery.html"
        class="block px-3 py-2 rounded-md text-base font-medium text-gray-700 hover:text-primary hover:bg-blue-50">Gallery</a>
      <a href="about-us.html" class="block px-3 py-2 rounded-md text-base font-medium text-primary bg-blue-50">About
        Us</a>
      <a href="blogs.html"
        class="block px-3 py-2 rounded-md text-base font-medium text-gray-700 hover:text-primary hover:bg-blue-50">Blogs</a>
      <a href="contact.html"
        class="block px-3 py-2 rounded-md text-base font-medium text-gray-700 hover:text-primary hover:bg-blue-50">Contact</a>
    </div>
  </div>

  <!-- Hero Section -->
  <section class="pt-32 pb-20 bg-gradient-to-r from-primary to-blue-600 text-white">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
      <h1 class="text-4xl md:text-5xl font-bold mb-6">About Psyche Panacea</h1>
      <div class="h-1 w-24 bg-white mx-auto rounded mb-8"></div>
      <p class="text-xl mb-8 text-blue-100 max-w-3xl mx-auto">
        Pioneers of innovative and breakthrough methodologies in the Indian consultation arena, transforming
        organizations through strategic HR solutions.
      </p>
    </div>
  </section>

  <!-- Tab Navigation -->
  <div class="tab-nav">
    <button class="tab-btn active" data-tab="careers">Careers</button>
    <button class="tab-btn" data-tab="clients-tab">Our Clients</button>
    <button class="tab-btn" data-tab="testimonials">Testimonials</button>
  </div>

  <!-- Careers Tab Content -->
  <section id="careers" class="tab-content active py-16 bg-gray-50">
    <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="career-card bg-white rounded-xl p-8">
        <div class="text-center mb-12">
          <h2 class="text-3xl font-bold text-gray-900 mb-4">Dear Candidates</h2>
          <p class="text-gray-700 text-lg">
            We are thrilled to extend a warm welcome to you as you embark on a journey towards a world of exciting job
            opportunities.
          </p>
        </div>

        <div class="mb-10">
          <p class="text-gray-700 mb-6">
            At Psyche Panacea we believe in the power of talent and the value that each individual brings to our team.
            As a forward-thinking and dynamic training and consultancy company, we are continuously seeking exceptional
            individuals like you to join our ranks and contribute to our mission.
          </p>
          <p class="text-gray-700">
            We are committed to fostering an environment that encourages innovation, personal growth, and collaboration.
            Your unique skills and experiences are exactly what we are looking for to help us drive our company forward.
          </p>
        </div>

        <div class="border-t border-gray-200 pt-8 mb-8"></div>

        <form id="career-form" method="POST" action="https://usebasin.com/f/04f341d6d131" enctype="multipart/form-data"
          class="space-y-6">
          <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
            <div>
              <label class="block text-gray-700 font-medium mb-2" for="first-name">First Name *</label>
              <input type="text" id="first-name" name="first_name" required
                class="w-full p-4 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary">
            </div>
            <div>
              <label class="block text-gray-700 font-medium mb-2" for="last-name">Last Name</label>
              <input type="text" id="last-name" name="last_name"
                class="w-full p-4 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary">
            </div>
          </div>

          <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
            <div>
              <label class="block text-gray-700 font-medium mb-2" for="email">Email *</label>
              <input type="email" id="email" name="email" required
                class="w-full p-4 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary">
            </div>
            <div>
              <label class="block text-gray-700 font-medium mb-2" for="phone">Phone</label>
              <input type="tel" id="phone" name="phone"
                class="w-full p-4 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary">
            </div>
          </div>

          <div>
            <label class="block text-gray-700 font-medium mb-2" for="job">Job Applying For: *</label>
            <select id="job" name="job" required
              class="w-full p-4 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary">
              <option value="">Select a position</option>
              <option value="HR Consultant: HR/Psychology">HR Consultant: HR/Psychology</option>
              <option value="Corporate Trainer">Corporate Trainer</option>
              <option value="Program Manager">Program Manager</option>
              <option value="Event Coordinator">Event Coordinator</option>
            </select>
          </div>

          <!-- File Upload Section -->
          <div class="file-upload-container">
            <label class="block text-gray-700 font-medium mb-2">Upload Resume *</label>
            <input type="file" id="resume" name="resume" required accept=".pdf,.doc,.docx">
            <label for="resume" class="file-upload-label">
              <i class="fas fa-cloud-upload-alt"></i> Select File to Upload
            </label>
            <div id="file-name" class="file-name">
              <i class="fas fa-file-alt mr-2"></i><span id="file-name-text"></span>
            </div>
            <div id="upload-status" class="upload-status"></div>
            <p class="text-gray-500 text-sm mt-2">Supported formats: PDF, DOC, DOCX (Max size: 5MB)</p>
          </div>

          <div class="text-center pt-6">
            <button type="submit" id="submit-btn"
              class="bg-gradient-to-r from-primary to-blue-700 hover:from-blue-700 hover:to-primary text-white font-bold py-4 px-12 rounded-lg transition-all transform hover:scale-105 shadow-lg">
              Submit Application
            </button>
          </div>
        </form>

        <div class="mt-12 text-center text-gray-600">
          <p>Don't find a match with your profile? Do drop a mail at <a href="mailto:hr@psypanconsulting.com"
              class="text-primary font-medium">hr@psypanconsulting.com</a> for future reference!</p>
        </div>
      </div>
    </div>
  </section>

  <!-- Our Clients Tab Content -->
  <section id="clients-tab" class="tab-content py-16 bg-gradient-to-br from-gray-50 to-blue-50">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="text-center mb-16">
        <h2 class="text-3xl md:text-4xl font-bold text-gray-900 mb-4">Our Esteemed Clients</h2>
        <div class="h-1 w-20 bg-primary mx-auto rounded mb-6"></div>
        <p class="text-gray-700 mt-6 max-w-2xl mx-auto text-lg">
          We've had the privilege of working with industry leaders who trust us to deliver exceptional training and
          consulting solutions.
        </p>
      </div>

      <!-- Filter Controls -->
      <div class="flex flex-wrap justify-center gap-3 mb-12">
        <button class="filter-btn active px-4 py-2 rounded-full bg-primary text-white font-medium transition-all"
          data-filter="all">All Clients</button>
      </div>

      <!-- Client Gallery -->
      <div class="client-gallery grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-6">
        <!-- Client cards will be generated dynamically -->
      </div>
    </div>
  </section>

  <!-- Lightbox Modal -->
  <div id="lightbox" class="fixed inset-0 bg-black bg-opacity-90 z-50 hidden items-center justify-center p-4 lightbox">
    <div class="relative max-w-4xl w-full lightbox-content">
      <button id="close-lightbox"
        class="absolute -top-12 right-0 text-white text-3xl hover:text-gray-300 transition-colors">
        <i class="fas fa-times"></i>
      </button>
      <div class="bg-black rounded-lg overflow-hidden shadow-2xl">
        <img id="lightbox-image" alt="Client Logo" class="w-full max-h-[80vh] object-contain">
        <div class="p-4 text-center bg-gray-500">
          <h3 id="lightbox-title" class="text-xl font-bold text-gray-900"></h3>
          <p id="lightbox-tagline" class="text-gray-600 mt-1"></p>
        </div>
      </div>
    </div>
  </div>

  <!-- Testimonials Tab Content (live Firestore-driven) -->
  <section id="testimonials" class="tab-content py-16 bg-white">
    <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="text-center mb-16">
        <h2 class="text-3xl font-bold text-gray-900 mb-4">TESTIMONIALS</h2>
        <div class="h-1 w-20 bg-primary mx-auto rounded"></div>
        <p class="text-gray-700 mt-6 max-w-2xl mx-auto">
          Associated with Psyche Panacea from last 10 years, Well Experienced Trainers Available In Pan India.
        </p>
      </div>

      <div class="relative" id="testimonials-relative">
        <!-- Slides will be injected here by JS as elements with class="testimonial-slide" -->
        <div id="tp-testimonials-loader" class="w-full text-center py-12 text-gray-500">Loading testimonials...</div>

        <!-- Navigation Buttons (keep same IDs) -->
        <div class="flex justify-center mt-10 space-x-4">
          <button id="prev-testimonial"
            class="bg-primary text-white p-3 rounded-full hover:bg-blue-800 transition-colors">
            <i class="fas fa-chevron-left"></i>
          </button>
          <button id="next-testimonial"
            class="bg-primary text-white p-3 rounded-full hover:bg-blue-800 transition-colors">
            <i class="fas fa-chevron-right"></i>
          </button>
        </div>
      </div>
    </div>
  </section>


  <!-- Footer -->
  <footer class="bg-gray-900 text-white py-12">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-start">
        <!-- Left half: Map -->
        <div class="w-full h-64 sm:h-80 md:h-96 rounded-xl overflow-hidden border-2 border-blue-700 shadow-lg">
          <iframe src="https://maps.google.com/maps?q=28.467519771527627,77.03697016794533&z=15&output=embed"
            width="100%" height="100%" frameborder="0" style="border:0;" allowfullscreen loading="lazy"
            class="filter grayscale hover:grayscale-0 transition-all duration-500 pointer-events-auto"
            gestureHandling="greedy">
          </iframe>
        </div>

        <!-- Right half: Content -->
        <div class="grid grid-cols-1 gap-8">
          <!-- Company Info -->
          <div>
            <div class="flex items-center mb-4">
              <div class="bg-gradient-to-r from-blue-600 to-blue-800 p-2 rounded-lg mr-3">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-white" fill="none" viewBox="0 0 24 24"
                  stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                    d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4" />
                </svg>
              </div>
              <h3 class="text-xl font-bold text-blue-400">Psyche Panacea</h3>
            </div>
            <p class="text-gray-400">
              Pioneers of innovative and breakthrough methodologies in the Indian consultation arena,
              transforming organizations through strategic HR solutions.
            </p>
          </div>

          <!-- Contact Info -->
          <div>
            <h4 class="text-lg font-semibold mb-3 text-blue-400 border-b border-blue-700 pb-1">Contact Us
            </h4>
            <ul class="space-y-4 text-gray-400 text-sm">
              <li class="flex items-start">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-3 mt-1 text-blue-500" fill="none"
                  viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                    d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" />
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                    d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" />
                </svg>
                <span>308/2, Old Delhi Rd, adjacent Country Inn,<br>Sector 12 A, Anamika
                  Enclave,<br>Sector 14, Gurugram, Haryana 122001</span>
              </li>
              <li class="flex items-center">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-3 text-blue-500" fill="none"
                  viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                    d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z" />
                </svg>
                <span>09810323292, 09810319292</span>
              </li>
              <li class="flex items-center">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-3 text-blue-500" fill="none"
                  viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                    d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />
                </svg>
                <span>hr@psypanconsulting.com</span>
              </li>
            </ul>
          </div>
        </div>
      </div>

      <!-- Footer Bottom -->
      <div class="border-t border-gray-800 mt-12 pt-6 text-center text-gray-500 text-sm">
        <p>Â© 2023 Psyche Panacea. All rights reserved. Designed by Psyche Panacea Team.</p>
      </div>
    </div>
  </footer>

  <!-- ====== Chatbot (copy-paste into your HTML) ====== -->
  <div class="chatbot fixed bottom-6 right-4 z-50">
    <!-- Toggle / Floating Button -->
    <button id="chatbotToggle"
      class="chatbot-toggle w-14 h-14 sm:w-16 sm:h-16 bg-gradient-to-br from-primary to-secondary rounded-full flex items-center justify-center cursor-pointer shadow-lg text-white"
      aria-label="Open chat">
      <svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
        class="opacity-95">
        <path
          d="M21 11.5a8.38 8.38 0 0 1-12.5 7.5 8.38 8.38 0 0 1-7.5-12.5 8.38 8.38 0 0 1 12.5-7.5 8.38 8.38 0 0 1 7.5 12.5z" />
        <path d="M9 9h6v6H9z" />
      </svg>
    </button>

    <!-- Chat window -->
    <div id="chatbotWindow"
      class="chatbot-window w-80 sm:w-96 max-h-[540px] absolute bottom-20 sm:bottom-24 right-0 bg-white rounded-xl shadow-2xl hidden border border-blue-100 flex flex-col overflow-hidden">
      <!-- Header -->
      <div
        class="chatbot-header bg-gradient-to-r from-primary to-blue-600 text-white p-3 sm:p-4 rounded-t-xl flex justify-between items-center">
        <div>
          <div class="font-bold text-sm sm:text-base">Psyche Panacea Assistant</div>
          <div class="text-xs opacity-90">Corporate Training & HR Support</div>
        </div>
        <div class="flex items-center gap-2">
          <button id="chatClear" title="Clear chat"
            class="text-xs bg-white/10 px-2 py-1 rounded-md hover:bg-white/20">Clear</button>
          <button id="chatbotClose" class="chatbot-close text-2xl leading-none">Ã—</button>
        </div>
      </div>

      <!-- Body -->
      <div id="chatbotBody" class="chatbot-body p-3 sm:p-4 overflow-y-auto flex-1 space-y-3 bg-white">
        <div
          class="chatbot-message bot bg-blue-50 text-gray-800 rounded-lg p-2 sm:p-3 mb-1 max-w-[86%] float-left clear-both text-sm sm:text-base">
          Welcome! Choose an option below or type your question. ðŸ‘‡
        </div>

        <!-- quick options container -->
        <div id="chatOptions" class="w-full flex flex-wrap gap-2"></div>
      </div>

      <!-- Input area -->
      <div class="chatbot-input p-2 sm:p-3 border-t border-gray-200 flex gap-2 items-center">
        <input id="chatbotInput" type="text"
          class="flex-1 p-2 sm:p-3 border border-gray-300 rounded-lg text-sm sm:text-base focus:outline-none"
          placeholder="Ask about our programs or click an option...">
        <button id="chatbotSend"
          class="bg-primary text-white px-3 sm:px-4 py-2 sm:py-3 rounded-lg font-semibold text-sm sm:text-base">Send</button>
      </div>
    </div>
  </div>

  <!-- Success Modal -->
  <div id="success-modal" class="fixed inset-0 bg-black bg-opacity-70 z-50 hidden items-center justify-center p-4">
    <div class="bg-white rounded-xl p-8 max-w-md w-full text-center transform scale-95 success-animation">
      <div class="w-24 h-24 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6">
        <i class="fas fa-check-circle text-green-500 text-5xl"></i>
      </div>
      <h3 class="text-2xl font-bold text-gray-900 mb-4">Application Submitted!</h3>
      <p class="text-gray-700 mb-6">
        Thank you for applying to Psyche Panacea. We've received your application and will review it shortly.
      </p>
      <button id="close-modal"
        class="bg-primary text-white font-bold py-3 px-8 rounded-lg transition-all hover:bg-blue-700">
        Continue
      </button>
    </div>
  </div>

  <script>
    // File upload handling
    document.getElementById('resume').addEventListener('change', function (e) {
      const fileName = this.files[0]?.name || '';
      const fileNameElement = document.getElementById('file-name');
      const fileNameText = document.getElementById('file-name-text');

      if (fileName) {
        fileNameText.textContent = fileName;
        fileNameElement.style.display = 'block';
      } else {
        fileNameElement.style.display = 'none';
      }
    });

    // Form submission handling
    document.getElementById('career-form').addEventListener('submit', function (e) {
      e.preventDefault();

      const form = this;
      const submitBtn = document.getElementById('submit-btn');
      const uploadStatus = document.getElementById('upload-status');

      // Disable submit button
      submitBtn.disabled = true;
      submitBtn.innerHTML = `
        <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
        Processing...
      `;

      // Create FormData object
      const formData = new FormData(form);

      // Submit form to UseBasin
      fetch(form.action, {
        method: 'POST',
        body: formData
      })
        .then(response => {
          if (response.ok) {
            // Show success modal
            document.getElementById('success-modal').classList.remove('hidden');
            document.getElementById('success-modal').classList.add('flex');

            // Reset form
            form.reset();
            document.getElementById('file-name').style.display = 'none';
          } else {
            throw new Error('Form submission failed');
          }
        })
        .catch(error => {
          console.error('Error submitting form:', error);
          uploadStatus.innerHTML = `
          <div class="upload-error">
            <i class="fas fa-exclamation-circle"></i> Error: Failed to submit application. Please try again.
          </div>
        `;
          uploadStatus.style.display = 'block';
        })
        .finally(() => {
          // Re-enable submit button
          submitBtn.disabled = false;
          submitBtn.textContent = 'Submit Application';
        });
    });

    // Close modal
    document.getElementById('close-modal').addEventListener('click', function () {
      document.getElementById('success-modal').classList.add('hidden');
      document.getElementById('success-modal').classList.remove('flex');
    });

    // Chatbot functionality

    (function () {
      // --- configuration / content (edit as needed) ---
      const contactInfo = {
        address: '08/2, Old Delhi Rd, adjacent Country In, Sector 12 A, Anamika Enclave,Sector 14, Gurugram, Haryana 122001',
        phones: ['+91 9810319292', '+91 9810323292'],
        email: 'hr@psypanconsulting.com',
      };

      // PAGE URL map: clicking goto/learn-more opens these pages in the same tab
      const pageUrlMap = {
        'Services': 'services.html',
        'Flagship Programs': 'flagship-programs.html',
        'Blogs': 'blogs.html',
        'Events': 'events.html',
        'Contact': 'contact.html',
        'About Us': 'about-us.html',
        // keep Gallery as optional (if desired, add a page)
        'Gallery': 'gallery.html'
      };

      const servicesList = [
        'Management Training',
        'Employee Engagement',
        'HR Consulting',
        'Employee Assistance',
        'Outbound Training',
        'Soft Skills'
      ];

      const flagshipPrograms = [
        'Managerial Dev. Program',
        'Train The Trainer',
        'Handling Conversation',
        'Campus to Corporate',
        'Business Comm. Skills',
        'Mentoring Skills',
        'Diversity & Inclusion',
        'Sahyog'
      ];

      // Keyword responses (typed input fallback)
      function getBotResponse(message) {
        const lower = message.toLowerCase();
        if (lower.includes('contact') || lower.includes('address')) {
          return `Our office is located at ${contactInfo.address}`;
        }
        if (lower.includes('phone') || lower.includes('call') || lower.includes('contact number')) {
          return `You can reach us at ${contactInfo.phones.join(' or ')}.`;
        }
        if (lower.includes('email') || lower.includes('mail')) {
          return `For inquiries, please email us at ${contactInfo.email}`;
        }
        if (lower.includes('training') || lower.includes('program')) {
          return 'We offer various training programs including Outbound Training, SAHYOG Wellness, and POSH Certification.';
        }
        if (lower.includes('service') || lower.includes('offer')) {
          return 'We provide corporate training solutions in leadership development, team building, and mental wellness programs.';
        }
        // fallback
        return 'Iâ€™m here to help! You can click one of the options below or tell me what you need.';
      }

      // --- DOM references ---
      const toggleBtn = document.getElementById('chatbotToggle');
      const windowEl = document.getElementById('chatbotWindow');
      const closeBtn = document.getElementById('chatbotClose');
      const sendBtn = document.getElementById('chatbotSend');
      const inputEl = document.getElementById('chatbotInput');
      const bodyEl = document.getElementById('chatbotBody');
      const optionsContainer = document.getElementById('chatOptions');
      const clearBtn = document.getElementById('chatClear');

      // --- helpers ---
      function scrollChatToBottom() {
        bodyEl.scrollTop = bodyEl.scrollHeight;
      }

      function createMessage({ text, who = 'bot', html = false }) {
        const wrapper = document.createElement('div');
        wrapper.className =
          'chatbot-message ' +
          (who === 'user'
            ? 'user bg-primary text-white rounded-lg p-3 mb-3 max-w-[80%] float-right clear-both text-sm sm:text-base'
            : 'bot bg-blue-50 text-gray-800 rounded-lg p-3 mb-3 max-w-[80%] float-left clear-both text-sm sm:text-base');
        if (html) wrapper.innerHTML = text;
        else wrapper.textContent = text;
        bodyEl.appendChild(wrapper);
        scrollChatToBottom();
        return wrapper;
      }

      function createTypingIndicator() {
        return createMessage({ text: 'Typing...', who: 'bot' });
      }

      // Show quick options and prompt "How may I help you?"
      function showOptionsPrompt(delay = 500) {
        setTimeout(() => {
          createMessage({ text: 'How may I help you?', who: 'bot' });
          renderQuickOptions();
        }, delay);
      }

      // Create clickable quick options
      function renderQuickOptions() {
        optionsContainer.innerHTML = '';

        const mainOptions = [
          { label: 'Services', action: 'services' },
          { label: 'Flagship Programs', action: 'programs' },
          { label: 'Contact', action: 'contact' },
          { label: 'Phone', action: 'phone' },
          { label: 'Email', action: 'email' },
          { label: 'Events', action: 'goto', target: 'Events' },
          { label: 'Gallery', action: 'goto', target: 'Gallery' },
          { label: 'Blogs', action: 'goto', target: 'Blogs' },
          { label: 'About Us', action: 'goto', target: 'About Us' }
        ];

        mainOptions.forEach(opt => {
          const btn = document.createElement('button');
          btn.className = 'px-3 py-1 text-xs sm:text-sm rounded-full border border-gray-200 hover:bg-slate-50';
          btn.textContent = opt.label;
          btn.dataset.action = opt.action;
          if (opt.target) btn.dataset.target = opt.target;
          optionsContainer.appendChild(btn);
        });

        scrollChatToBottom();
      }

      // Show service details then show options again
      function showServiceDetails(serviceName) {
        const description = `${serviceName} â€” a tailored solution to address corporate needs. Click Learn more to visit the Services page.`;
        const typing = createTypingIndicator();
        setTimeout(() => {
          typing.remove();
          createMessage({ text: description, who: 'bot' });
          const html = `<div class="mt-2"><button data-action="goto" data-target="Services" class="px-3 py-1 rounded-md bg-primary text-white text-xs">Learn more</button></div>`;
          createMessage({ text: html, who: 'bot', html: true });
          // show options again
          showOptionsPrompt(700);
        }, 700);
      }

      // Show program details then show options again
      function showProgramDetails(programName) {
        const description = `${programName} â€” structured program designed to build competencies and measurable outcomes. Click Go to Flagship Programs to know more.`;
        const typing = createTypingIndicator();
        setTimeout(() => {
          typing.remove();
          createMessage({ text: description, who: 'bot' });
          const html = `<div class="mt-2"><button data-action="goto" data-target="Flagship Programs" class="px-3 py-1 rounded-md bg-primary text-white text-xs">Go to Flagship Programs</button></div>`;
          createMessage({ text: html, who: 'bot', html: true });
          // show options again
          showOptionsPrompt(700);
        }, 700);
      }

      // Navigate to the mapped page (same tab). If no mapping, fallback to hash navigation.
      function goToPage(name) {
        const normalized = name.trim();
        const url = pageUrlMap[normalized];
        if (url) {
          // give a small confirmation message then navigate
          createMessage({ text: `Opening ${normalized}...`, who: 'bot' });
          // navigate in same tab
          window.location.href = url;
        } else {
          // fallback: attempt scroll to element id
          const id = normalized.toLowerCase().replace(/\s+/g, '-');
          const el = document.getElementById(id);
          if (el) {
            el.scrollIntoView({ behavior: 'smooth', block: 'start' });
            createMessage({ text: `Taking you to ${normalized} section.`, who: 'bot' });
            // show options afterwards
            showOptionsPrompt(700);
          } else {
            createMessage({ text: `Couldn't find a page or section for "${normalized}".`, who: 'bot' });
            showOptionsPrompt(600);
          }
        }
      }

      // --- main event handlers ---
      function handleOptionClick(target) {
        const action = target.dataset.action;
        const t = target.dataset.target || target.textContent;

        if (action === 'services') {
          const typing = createTypingIndicator();
          setTimeout(() => {
            typing.remove();
            createMessage({ text: 'Here are our Services:', who: 'bot' });
            const html = servicesList.map(s => `<button data-action="service" data-name="${s}" class="m-1 px-3 py-1 text-xs rounded-full border border-gray-200">${s}</button>`).join('');
            createMessage({ text: html, who: 'bot', html: true });
            // show options again under the list
            showOptionsPrompt(600);
          }, 500);
          return;
        }

        if (action === 'programs') {
          const typing = createTypingIndicator();
          setTimeout(() => {
            typing.remove();
            createMessage({ text: 'Our Flagship Programs:', who: 'bot' });
            const html = flagshipPrograms.map(p => `<button data-action="program" data-name="${p}" class="m-1 px-3 py-1 text-xs rounded-full border border-gray-200">${p}</button>`).join('');
            createMessage({ text: html, who: 'bot', html: true });
            showOptionsPrompt(600);
          }, 500);
          return;
        }

        if (action === 'contact') {
          createMessage({ text: `Address: ${contactInfo.address}`, who: 'bot' });
          createMessage({ text: `Phone: ${contactInfo.phones.join(' or ')}`, who: 'bot' });
          createMessage({ text: `Email: ${contactInfo.email}`, who: 'bot' });
          showOptionsPrompt(600);
          return;
        }

        if (action === 'phone') {
          createMessage({ text: `Phone: ${contactInfo.phones.join(' or ')}`, who: 'bot' });
          showOptionsPrompt(600);
          return;
        }

        if (action === 'email') {
          createMessage({ text: `Email: ${contactInfo.email}`, who: 'bot' });
          showOptionsPrompt(600);
          return;
        }

        if (action === 'goto') {
          // Open mapped page in same tab
          const targetLabel = target.dataset.target || target.textContent;
          goToPage(targetLabel);
          return;
        }

        if (action === 'service') {
          const name = target.dataset.name;
          showServiceDetails(name);
          return;
        }
        if (action === 'program') {
          const name = target.dataset.name;
          showProgramDetails(name);
          return;
        }

        // fallback: treat as typed content
        const typedText = target.textContent || '';
        createMessage({ text: typedText, who: 'user' });
        const response = getBotResponse(typedText);
        const typing = createTypingIndicator();
        setTimeout(() => {
          typing.remove();
          createMessage({ text: response, who: 'bot' });
          showOptionsPrompt(600);
        }, 800);
      }

      // Delegate clicks inside chat body (for dynamic buttons)
      bodyEl.addEventListener('click', (e) => {
        const btn = e.target.closest('button');
        if (!btn) return;
        const action = btn.dataset.action;
        if (!action) return;
        // small user bubble showing clicked option
        const label = btn.textContent;
        createMessage({ text: label, who: 'user' });
        handleOptionClick(btn);
      });

      // Top-level quick options click
      optionsContainer.addEventListener('click', (e) => {
        const btn = e.target.closest('button');
        if (!btn) return;
        handleOptionClick(btn);
      });

      // send typed message
      function sendMessage() {
        const message = inputEl.value.trim();
        if (!message) return;
        createMessage({ text: message, who: 'user' });
        inputEl.value = '';
        const typing = createTypingIndicator();
        setTimeout(() => {
          typing.remove();
          // If user typed exact name of a service or program, prefer direct show
          const normalized = message.toLowerCase();
          const serviceMatch = servicesList.find(s => normalized === s.toLowerCase());
          const progMatch = flagshipPrograms.find(p => normalized === p.toLowerCase());
          if (serviceMatch) {
            showServiceDetails(serviceMatch);
            return;
          }
          if (progMatch) {
            showProgramDetails(progMatch);
            return;
          }
          // If they typed a page name like 'services' or 'blogs', open page
          const pageKey = Object.keys(pageUrlMap).find(k => k.toLowerCase() === message.toLowerCase());
          if (pageKey) {
            goToPage(pageKey);
            return;
          }
          const response = getBotResponse(message);
          createMessage({ text: response, who: 'bot' });
          showOptionsPrompt(600);
        }, 900);
      }

      // Toggle open/close
      function toggleChatbot() {
        const isHidden = windowEl.classList.contains('hidden');
        if (isHidden) {
          windowEl.classList.remove('hidden');
          // render quick options each time to ensure fresh buttons
          renderQuickOptions();
        } else {
          windowEl.classList.add('hidden');
        }
      }

      // Clear chat
      function clearChat() {
        bodyEl.innerHTML = '';
        createMessage({ text: 'Welcome! Choose an option below or type your question. ðŸ‘‡', who: 'bot' });
        renderQuickOptions();
      }

      // --- wire up events ---
      toggleBtn.addEventListener('click', toggleChatbot);
      closeBtn.addEventListener('click', toggleChatbot);
      sendBtn.addEventListener('click', sendMessage);
      inputEl.addEventListener('keypress', (e) => { if (e.key === 'Enter') sendMessage(); });
      clearBtn.addEventListener('click', clearChat);

    })();

    // Client data with categories
    const clients = [
      // Automotive
      { name: "Honda", image: "honda.png", category: "automotive", tagline: "The Power of Dreams" },
      { name: "Maruti Suzuki", image: "maruti.png", category: "automotive", tagline: "Way of Life" },
      { name: "Hero", image: "hero.png", category: "automotive", tagline: "Desh Ki Dhadkan" },
      { name: "JCB", image: "jcb.png", category: "automotive", tagline: "Powering Progress" },
      { name: "Yamaha", image: "BirlaYamaha.png", category: "automotive", tagline: "Revs Your Heart" },
      { name: "Suzuki Motorcycles", image: "Suzuki-Motorcycles.png", category: "automotive" },
      { name: "JK Tyres", image: "jktyre.png", category: "automotive" },
      { name: "Escort", image: "Escort.png", category: "automotive" },
      { name: "Sona Koyo", image: "Sona-Koyo.jpg", category: "automotive" },
      { name: "Minda", image: "minda.png", category: "automotive" },
      { name: "JBM Group", image: "jbm.png", category: "automotive" },

      // Manufacturing
      { name: "ACC", image: "acc.png", category: "manufacturing", tagline: "The Professional's Choice" },
      { name: "Amtek", image: "Amtek.jpg", category: "manufacturing" },
      { name: "Anchor", image: "Anchor.jpg", category: "manufacturing" },
      { name: "Asahi Glass", image: "Asahi-Glass.png", category: "manufacturing" },
      { name: "ATO", image: "ato.png", category: "manufacturing" },
      { name: "BIRLA POWER", image: "birla-power.png", category: "manufacturing", tagline: "POWER... the ability to change" },
      { name: "Bria", image: "Birla.jpg", category: "manufacturing" },
      { name: "Chemsys", image: "Chemsys.png", category: "manufacturing" },
      { name: "Colgate and Palmolive", image: "ColgateandPalmolive.png", category: "manufacturing" },
      { name: "Daikin", image: "Daikin.png", category: "manufacturing" },
      { name: "Dabur", image: "dabur.png", category: "manufacturing" },
      { name: "Ester Industries", image: "Ester-Industries.png", category: "manufacturing" },
      { name: "Grasim", image: "Grasim.jpg", category: "manufacturing" },
      { name: "Hindustan Zinc", image: "Hindustan-Zinc.png", category: "manufacturing" },
      { name: "Indian Oil", image: "indian-oil.png", category: "manufacturing" },
      { name: "NTPC", image: "ntpc.png", category: "manufacturing" },
      { name: "Shree Cements", image: "Shree-Cements.jpg", category: "manufacturing" },
      { name: "SRF", image: "SRF.png", category: "manufacturing" },

      // Technology
      { name: "Bharti", image: "Bharti.png", category: "technology" },
      { name: "HCL", image: "hcl.png", category: "technology" },
      { name: "Hughes Software", image: "Hughes-Software.png", category: "technology" },
      { name: "ICICI Bank", image: "icici-bank.png", category: "technology" },
      { name: "Mizuho Bank", image: "Mizuho-Bank.png", category: "technology" },
      { name: "RMSI", image: "RMSI.png", category: "technology" },
      { name: "Safran", image: "Safran.png", category: "technology" },
      { name: "SPIL", image: "SPIL.png", category: "technology" },
      { name: "Tech Mahindra", image: "tech-mahindra.png", category: "technology" },
      { name: "TMTL", image: "TMTL.png", category: "technology" },
      { name: "Wabag", image: "Wabag.png", category: "technology" },
      { name: "OMAX Technology", image: "LOGO_OMAX-technology.png", category: "technology" },
      { name: "Nex-Gen", image: "Nex-Gen.png", category: "technology" },
      { name: "Biotech", image: "Biotech.webp", category: "technology" },

      // FMCG
      { name: "Pepsi", image: "pepsi.png", category: "fmg" },
      { name: "Parle-G", image: "Parle-G.jpg", category: "fmg" },
      { name: "Perfetti", image: "Perfetti.png", category: "fmg" },
      { name: "Dabur", image: "DABUR (1).png", category: "fmg" },
      { name: "Colgate and Palmolive", image: "Colgate-and-Palmoliv.png", category: "fmg" },
      { name: "Whirlpool", image: "whirl-pool.png", category: "fmg" },
      { name: "Spencer's", image: "spencers.png", category: "fmg" },
      { name: "Van Melle", image: "Van-Melle.png", category: "fmg" },
      { name: "Mother Dairy", image: "Mother-Dairy.jpg", category: "fmg" }
    ];

    // Function to create client card
    function createClientCard(client) {
      const card = document.createElement('div');
      card.className = 'client-card group';
      card.dataset.category = client.category;
      card.dataset.name = client.name;
      card.dataset.tagline = client.tagline || '';

      card.innerHTML = `
                <div class="relative overflow-hidden rounded-xl shadow-lg h-56 w-full bg-white transform transition duration-300 hover:scale-105 hover:shadow-xl">
                    <div class="p-4 h-full flex items-center justify-center">
                        <img src="/images/clients/${client.image}" alt="${client.name}" class="max-h-24 max-w-full">
                    </div>
                </div>
            `;

      // Add click event for lightbox
      card.addEventListener('click', () => openLightbox(client));

      return card;
    }

    // Function to render all clients
    function renderClientGallery() {
      const gallery = document.querySelector('.client-gallery');
      gallery.innerHTML = '';

      clients.forEach(client => {
        gallery.appendChild(createClientCard(client));
      });
    }

    // Function to open lightbox
    function openLightbox(client) {
      const lightbox = document.getElementById('lightbox');
      const lightboxImage = document.getElementById('lightbox-image');
      const lightboxTitle = document.getElementById('lightbox-title');
      const lightboxTagline = document.getElementById('lightbox-tagline');

      lightboxImage.src = `/images/clients/${client.image}`;
      lightboxImage.alt = client.name;
      lightboxTitle.textContent = client.name;
      lightboxTagline.textContent = client.tagline || '';

      // Hide tagline element if no tagline exists
      lightboxTagline.style.display = client.tagline ? 'block' : 'none';

      lightbox.classList.remove('hidden');
      lightbox.classList.add('flex');

      // Prevent scrolling when lightbox is open
      document.body.style.overflow = 'hidden';
    }

    // Function to close lightbox
    function closeLightbox() {
      const lightbox = document.getElementById('lightbox');
      lightbox.classList.add('hidden');
      lightbox.classList.remove('flex');

      // Restore scrolling
      document.body.style.overflow = '';
    }

    // Function to initialize filter functionality
    function initFilter() {
      const filterButtons = document.querySelectorAll('.filter-btn');

      filterButtons.forEach(button => {
        button.addEventListener('click', function () {
          // Update active button
          filterButtons.forEach(btn => {
            btn.classList.remove('active', 'bg-primary', 'text-white');
            btn.classList.add('bg-gray-200');
          });

          this.classList.add('active', 'bg-primary', 'text-white');
          this.classList.remove('bg-gray-200');

          const filter = this.dataset.filter;
          const clientCards = document.querySelectorAll('.client-card');

          clientCards.forEach(card => {
            if (filter === 'all' || card.dataset.category === filter) {
              card.style.display = 'block';
            } else {
              card.style.display = 'none';
            }
          });
        });
      });
    }

    // Tab Switching Functionality
    function initTabs() {
      const tabButtons = document.querySelectorAll('.tab-btn');
      const tabContents = document.querySelectorAll('.tab-content');

      tabButtons.forEach(button => {
        button.addEventListener('click', () => {
          // Remove active class from all buttons and contents
          tabButtons.forEach(btn => btn.classList.remove('active'));
          tabContents.forEach(content => content.classList.remove('active'));

          // Add active class to clicked button
          button.classList.add('active');

          // Show corresponding content
          const tabId = button.getAttribute('data-tab');
          document.getElementById(tabId).classList.add('active');
        });
      });
    }

    // Initialize when DOM is loaded
    document.addEventListener('DOMContentLoaded', () => {
      renderClientGallery();
      initFilter();
      initTabs();

      // Close lightbox events
      document.getElementById('close-lightbox').addEventListener('click', closeLightbox);
      document.getElementById('lightbox').addEventListener('click', (e) => {
        if (e.target === e.currentTarget) closeLightbox();
      });

      // Close with Escape key
      document.addEventListener('keydown', (e) => {
        if (e.key === 'Escape') closeLightbox();
      });

      // Mobile Menu Toggle
      const mobileMenuButton = document.getElementById('mobile-menu-button');
      const mobileMenu = document.getElementById('mobile-menu');

      if (mobileMenuButton && mobileMenu) {
        mobileMenuButton.addEventListener('click', () => {
          mobileMenu.classList.toggle('hidden');
        });
      }


      // Smooth scrolling for anchor links
      document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function (e) {
          e.preventDefault();

          const targetId = this.getAttribute('href');
          const targetElement = document.querySelector(targetId);

          if (targetElement) {
            window.scrollTo({
              top: targetElement.offsetTop - 80,
              behavior: 'smooth'
            });

            // Close mobile menu if open
            if (mobileMenu) {
              mobileMenu.classList.add('hidden');
            }
          }
        });
      });
    });
  </script>
  <script type="module">
    /*
      Firestore-driven Testimonials carousel
      - Keeps original class/id names: .testimonial-slide, #prev-testimonial, #next-testimonial
      - Listens to collection "testimonials" ordered by createdAt desc
      - Uses provided firebaseConfig if Firebase app not already initialized
    */

    import { initializeApp, getApp } from "https://www.gstatic.com/firebasejs/9.22.2/firebase-app.js";
    import { getFirestore, collection, query, orderBy, onSnapshot } from "https://www.gstatic.com/firebasejs/9.22.2/firebase-firestore.js";

    const firebaseConfig = {
      apiKey: "AIzaSyA8t0YBEkZ-hDHmw7u8aud-jwNybYEKnbU",
      authDomain: "psypanweb-7747a.firebaseapp.com",
      projectId: "psypanweb-7747a",
      storageBucket: "psypanweb-7747a.appspot.com",
      messagingSenderId: "441049264188",
      appId: "1:441049264188:web:4dab8de0554b2c7c741339",
      measurementId: "G-C1CTMX729Z"
    };

    // initialize or reuse app
    let app;
    try {
      app = getApp();
    } catch (e) {
      app = initializeApp(firebaseConfig);
    }

    const db = getFirestore(app);
    const testimonialsRef = collection(db, 'testimonials');
    const testimonialsQuery = query(testimonialsRef, orderBy('createdAt', 'desc'));

    // DOM refs (keep original container and button IDs)
    const relativeEl = document.getElementById('testimonials-relative');
    const loaderEl = document.getElementById('tp-testimonials-loader');
    const prevBtn = document.getElementById('prev-testimonial');
    const nextBtn = document.getElementById('next-testimonial');

    if (!relativeEl) {
      console.error('Testimonials container not found (#testimonials-relative). Aborting testimonials script.');
    } else {
      // store slide data & track current index
      let slideData = []; // array of {id, name, role, company, photoURL, rating, text, createdAt}
      let currentIndex = 0;

      // UTIL: escape html
      function escapeHtml(str) {
        if (str === null || str === undefined) return '';
        return String(str)
          .replaceAll('&', '&amp;')
          .replaceAll('<', '&lt;')
          .replaceAll('>', '&gt;')
          .replaceAll('"', '&quot;')
          .replaceAll("'", '&#39;');
      }

      // UTIL: render star icons same look as original markup
      function renderStars(rating) {
        rating = Math.max(0, Math.min(5, Math.round(Number(rating) || 0)));
        let html = '';
        for (let i = 0; i < rating; i++) html += '<i class="fas fa-star text-yellow-400 mr-1"></i>';
        for (let i = rating; i < 5; i++) html += '<i class="far fa-star text-gray-300 mr-1"></i>';
        return html;
      }

      // Build a slide element following your original structure and classes
      function buildSlide(item) {
        const slide = document.createElement('div');
        slide.className = 'testimonial-slide';
        const photoMarkup = item.photoURL
          ? `<img src="${escapeHtml(item.photoURL)}" alt="${escapeHtml(item.name || '')}" class="w-full h-full object-cover">`
          : ''; // if empty, leave the dashed box blank (keeps original look)
        const roleCompany = (item.role || '') + (item.company ? ' â€¢ ' + item.company : '');

        slide.innerHTML = `
      <div class="bg-gray-50 rounded-xl p-8 md:p-12 shadow-md">
        <div class="rating mb-6">${renderStars(item.rating)}</div>
        <p class="text-gray-700 text-lg mb-8 italic">"${escapeHtml(item.text)}"</p>
        <div class="flex items-center">
          <div class="w-16 h-16 rounded-xl overflow-hidden bg-gray-200 border-2 border-dashed flex-shrink-0">
            ${photoMarkup}
          </div>
          <div class="ml-4">
            <h4 class="text-xl font-bold text-gray-900">${escapeHtml(item.name || 'Anonymous')}</h4>
            <p class="text-gray-600">${escapeHtml(roleCompany)}</p>
          </div>
        </div>
      </div>
    `;
        return slide;
      }

      // Clear current slides (but leave nav buttons intact)
      function clearSlides() {
        const existing = relativeEl.querySelectorAll('.testimonial-slide');
        existing.forEach(n => n.remove());
      }

      // Render slides array into DOM, inserting before nav buttons
      function renderSlides() {
        // remove old slides
        clearSlides();

        // remove loader
        if (loaderEl) loaderEl.remove();

        if (!slideData || slideData.length === 0) {
          // show no-data message
          const nodata = document.createElement('div');
          nodata.className = 'testimonial-slide';
          nodata.innerHTML = `
        <div class="bg-gray-50 rounded-xl p-8 md:p-12 shadow-md">
          <p class="text-gray-700 text-lg mb-8 italic">No testimonials yet. Be the first to add one!</p>
        </div>`;
          // insert before nav buttons (nav sits at end)
          const nav = relativeEl.querySelector('.flex.justify-center.mt-10');
          if (nav) relativeEl.insertBefore(nodata, nav);
          else relativeEl.appendChild(nodata);
          currentIndex = 0;
          updateVisible();
          return;
        }

        // create slides and insert
        slideData.forEach((item, idx) => {
          const slideEl = buildSlide(item);
          if (idx === currentIndex) slideEl.classList.add('active');
          const nav = relativeEl.querySelector('.flex.justify-center.mt-10');
          if (nav) relativeEl.insertBefore(slideEl, nav);
          else relativeEl.appendChild(slideEl);
        });

        // ensure visible slide updated
        updateVisible();
      }

      // Add/remove 'active' class to show the current slide only
      function updateVisible() {
        const slides = Array.from(relativeEl.querySelectorAll('.testimonial-slide'));
        if (slides.length === 0) return;
        slides.forEach(s => s.classList.remove('active'));
        // clamp index
        if (currentIndex < 0) currentIndex = slides.length - 1;
        if (currentIndex >= slides.length) currentIndex = 0;
        slides[currentIndex].classList.add('active');
      }

      // Prev/next handlers (preserve original behavior)
      prevBtn?.addEventListener('click', () => {
        const slides = relativeEl.querySelectorAll('.testimonial-slide');
        if (!slides.length) return;
        currentIndex--;
        if (currentIndex < 0) currentIndex = slides.length - 1;
        updateVisible();
      });

      nextBtn?.addEventListener('click', () => {
        const slides = relativeEl.querySelectorAll('.testimonial-slide');
        if (!slides.length) return;
        currentIndex++;
        if (currentIndex >= slides.length) currentIndex = 0;
        updateVisible();
      });

      // Listen to Firestore in real-time
      onSnapshot(testimonialsQuery, (snapshot) => {
        // map docs to simple object shape (reference screenshot fields)
        slideData = snapshot.docs.map(doc => {
          const d = doc.data();
          return {
            id: doc.id,
            name: d.name || '',
            role: d.role || '',
            company: d.company || '',
            photoURL: d.photoURL || '',
            rating: d.rating || 5,
            text: d.text || '',
            createdAt: d.createdAt || null
          };
        });

        // reset to first (most recent) when data refreshes
        currentIndex = 0;
        renderSlides();

      }, (err) => {
        console.error('Error listening to testimonials:', err);
        // if error, remove loader and show a friendly message
        if (loaderEl) loaderEl.textContent = 'Could not load testimonials.';
      });

      // initial: show loader (already present in HTML), if needed we can keep it for a moment
    }
  </script>

</body>

</html>