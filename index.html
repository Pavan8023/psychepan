# Updated Homepage with Firestore Stats and Client Carousel

I've updated your homepage to:
1. Fetch and display stats from Firestore
2. Implement a modern logo carousel with fade/zoom animations
3. Keep all existing functionality intact

```html
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Psyche Panacea - Corporate Training Solutions</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="icon" href="/images/psypan-logo-transparent.png">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">

  <!-- Include Firebase SDK -->
  <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-firestore-compat.js"></script>

  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            primary: '#1e40af',
            secondary: '#3b82f6',
            accent: '#0ea5e9',
            dark: '#0f172a',
            light: '#f1f5f9'
          },
          fontFamily: {
            poppins: ['Poppins', 'sans-serif']
          },
          animation: {
            'marquee': 'marquee 25s linear infinite',
            'fadeIn': 'fadeIn 1s ease-in',
            'slideUp': 'slideUp 0.8s ease-out',
            'fadeZoom': 'fadeZoom 2s infinite'
          },
          keyframes: {
            marquee: {
              '0%': { transform: 'translateX(0)' },
              '100%': { transform: 'translateX(-100%)' }
            },
            fadeIn: {
              '0%': { opacity: '0' },
              '100%': { opacity: '1' }
            },
            slideUp: {
              '0%': { transform: 'translateY(30px)', opacity: '0' },
              '100%': { transform: 'translateY(0)', opacity: '1' }
            },
            fadeZoom: {
              '0%, 100%': { opacity: '0.5', transform: 'scale(0.9)' },
              '50%': { opacity: '1', transform: 'scale(1.1)' }
            }
          }
        }
      }
    }
  </script>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Poppins', sans-serif;
      background: linear-gradient(to bottom, #ffffff, #f0f9ff);
      color: #334155;
      overflow-x: hidden;
    }

    .hero-pattern {
      background: radial-gradient(circle, rgba(30, 64, 175, 0.05) 0%, rgba(255, 255, 255, 0) 70%);
    }

    .card-hover {
      transition: all 0.3s ease;
    }

    .card-hover:hover {
      transform: translateY(-10px);
      box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
    }

    .testimonial-card {
      background: linear-gradient(145deg, #ffffff, #f8fafc);
      box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.05);
    }

    .logo-marquee {
      display: flex;
      width: 200%;
      animation: marquee 25s linear infinite;
    }

    .logo-item {
      flex: 0 0 auto;
      margin: 0 40px;
      display: flex;
      align-items: center;
      justify-content: center;
      opacity: 0.7;
      transition: opacity 0.3s;
    }

    .logo-item:hover {
      opacity: 1;
    }

    .footer-links a {
      position: relative;
    }

    .footer-links a:after {
      content: '';
      position: absolute;
      bottom: -2px;
      left: 0;
      width: 0;
      height: 1px;
      background: white;
      transition: width 0.3s ease;
    }

    .footer-links a:hover:after {
      width: 100%;
    }

    .animate-on-scroll {
      opacity: 0;
      transform: translateY(20px);
      transition: opacity 0.8s ease, transform 0.8s ease;
    }

    .animate-on-scroll.active {
      opacity: 1;
      transform: translateY(0);
    }

    .slideshow-container {
      position: absolute;
      width: 100%;
      height: 100%;
    }

    .slide {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-size: cover;
      background-position: center;
      opacity: 0;
      animation: slideShow 15s infinite;
    }

    .slide:nth-child(1) {
      animation-delay: 0s;
    }

    .slide:nth-child(2) {
      animation-delay: 3s;
    }

    .slide:nth-child(3) {
      animation-delay: 6s;
    }

    .slide:nth-child(4) {
      animation-delay: 9s;
    }

    .slide:nth-child(5) {
      animation-delay: 12s;
    }

    /* Fixed navbar solution */
    header {
      background-color: rgba(255, 255, 255, 0.95);
      backdrop-filter: blur(10px);
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
      position: fixed;
      top: 0;
      width: 100%;
      z-index: 1000;
      padding: 1.2rem 3rem;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    nav a {
      position: relative;
      transition: color 0.3s ease;
    }

    nav a::after {
      content: '';
      position: absolute;
      width: 0;
      height: 2px;
      bottom: -4px;
      left: 0;
      background-color: #0052cc;
      transition: width 0.3s ease;
    }

    nav a:hover::after {
      width: 100%;
    }

    .active-nav-link {
      color: #0052cc;
      font-weight: 600;
    }

    .active-nav-link::after {
      width: 100%;
    }

    @keyframes slideShow {
      0% {
        opacity: 0;
        transform: scale(1.05);
      }

      10% {
        opacity: 1;
        transform: scale(1);
      }

      20% {
        opacity: 1;
      }

      30% {
        opacity: 0;
      }

      100% {
        opacity: 0;
      }
    }

    @media (max-width: 480px) {
      .chatbot-window {
        max-width: 90vw;
        right: 5px;
      }

      .chatbot-input {
        padding: 0.5rem;
      }

      .chatbot-input input {
        padding: 0.5rem;
      }

      .chatbot-toggle {
        width: 50px;
        height: 50px;
      }

      footer .grid {
        grid-template-columns: 1fr;
      }

      .map-container {
        height: 250px;
      }
    }

    /* Map container */
    .map-container {
      height: 300px;
    }

    /* Mobile menu fixes */
    #mobile-menu {
      position: fixed;
      left: 0;
      right: 0;
      background: white;
      z-index: 1000;
      box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
    }

    /* Mobile menu visible */
    #mobile-menu.active {
      display: block;
    }

    /* Mobile menu links */
    #mobile-menu a {
      display: block;
      padding: 12px 20px;
      color: #333;
      text-decoration: none;
      border-bottom: 1px solid #eee;
      transition: background 0.3s;
    }

    #mobile-menu a:hover {
      background-color: #f0f7ff;
    }

    /* Active link in mobile menu */
    #mobile-menu a.active {
      background-color: #e6f2ff;
      color: #0052cc;
    }

    /* 1) Container hides the overflow */
    .logo-slider {
      position: relative;
      overflow: hidden;
    }

    /* 2) Track flexes its children in one row and animates */
    .logo-track {
      display: flex;
      /* make sure the total length is twice the viewport so 50% translation lines up */
      width: max-content;
      animation: scroll-logotrack 20s linear infinite;
    }

    /* 3) Pause on hover */
    .logo-slider:hover .logo-track {
      animation-play-state: paused;
    }

    /* 4) Keyframes: shift left by exactly half of the track (your duplicated set) */
    @keyframes scroll-logotrack {
      from {
        transform: translateX(0);
      }

      to {
        transform: translateX(-50%);
      }
    }

    /* wrap your card so the overflow is clipped during the slide */
    .testimonial-card {
      position: relative;
      overflow: hidden;
    }

    /* slide in from right */
    @keyframes slideInFromRight {
      from {
        transform: translateX(100%);
        opacity: 0;
      }

      to {
        transform: translateX(0);
        opacity: 1;
      }
    }

    /* slide in from left */
    @keyframes slideInFromLeft {
      from {
        transform: translateX(-100%);
        opacity: 0;
      }

      to {
        transform: translateX(0);
        opacity: 1;
      }
    }

    /* utility classes */
    .slide-in-right {
      animation: slideInFromRight 0.5s ease-out both;
    }

    .slide-in-left {
      animation: slideInFromLeft 0.5s ease-out both;
    }

    @keyframes pop {
      0% {
        transform: scale(1);
      }

      50% {
        transform: scale(1.2);
      }

      100% {
        transform: scale(1);
      }
    }

    .pop {
      animation: pop 2s ease-in-out;
    }

    /* --- Flip card core --- */
    .flip-card {
      perspective: 1200px;
      -webkit-perspective: 1200px;
      position: relative;
      /* for absolute faces */
      min-height: 240px;
      /* ensures card has height so absolute faces render */
      border-radius: 0.75rem;
      /* matches rounded-xl */
      overflow: visible;
      /* allow shadows */
      transition: transform 0.25s ease, box-shadow 0.25s ease;
    }

    /* Outer hover lift (keeps your original hover lift) */
    .flip-card:hover,
    .flip-card:focus-within {
      transform: translateY(-8px) scale(1.02);
      box-shadow: 0 16px 40px rgba(2, 6, 23, 0.12);
    }

    .flip-card-inner {
      position: relative;
      height: 100%;
      transform-style: preserve-3d;
      -webkit-transform-style: preserve-3d;
      transition: transform 0.7s cubic-bezier(.2, .8, .2, 1);
      will-change: transform;
    }

    /* flip on hover/focus-within OR when .is-flipped is present (JS toggle) */
    .flip-card:hover .flip-card-inner,
    .flip-card:focus-within .flip-card-inner,
    .flip-card.is-flipped .flip-card-inner {
      transform: rotateY(180deg);
      -webkit-transform: rotateY(180deg);
    }

    /* Faces — use absolute so they overlap; inset:0 fills parent */
    .flip-card-front,
    .flip-card-back {
      position: absolute;
      inset: 0;
      /* top:0; right:0; bottom:0; left:0; */
      -webkit-backface-visibility: hidden;
      backface-visibility: hidden;
      display: flex;
      flex-direction: column;
      align-items: flex-start;
      /* we'll align content inside */
      justify-content: center;
      padding: 1.5rem;
      /* matches your p-6 */
      box-sizing: border-box;
      border-radius: 0.75rem;
      background: white;
    }

    /* front stays as-is */
    .flip-card-front {
      transform: rotateY(0deg);
      z-index: 2;
    }

    /* back rotated 180 so it reads correctly after flip */
    .flip-card-back {
      transform: rotateY(180deg);
      -webkit-transform: rotateY(180deg);
    }

    /* small style niceties for back content */
    .card-back-inner {
      width: 100%;
      display: flex;
      flex-direction: column;
      gap: 0.5rem;
    }

    /* Keep reduced motion preference in mind */
    @media (prefers-reduced-motion: reduce) {
      .flip-card-inner {
        transition: none !important;
      }

      .flip-card {
        transition: none !important;
      }
    }

    /* Responsive tweak: increase min height on larger screens if needed */
    @media (min-width: 768px) {
      .flip-card {
        min-height: 260px;
      }
    }

    /* Custom styles for the animated carousel */
    .logo-slider { --gap: 1rem; } /* control spacing */
    .logo-track {
      gap: var(--gap);
      will-change: transform;
      transition: transform 600ms cubic-bezier(.22,.9,.35,1);
      align-items: center;
      display: flex;
      padding: 0 1rem;
    }

    .client-logo {
      flex-shrink: 0;
      width: 10rem;    /* matches w-40 from Tailwind */
      height: 5rem;    /* matches h-20 from Tailwind */
      border-radius: 0.75rem;
      display: flex;
      align-items: center;
      justify-content: center;
      background: white;
      box-shadow: 0 8px 22px rgba(2,6,23,0.06);
      margin: 0 .5rem; /* small horizontal gap (mx-4 ~ 1rem total) */
      transform-origin: center;
      transition: transform 420ms cubic-bezier(.22,.9,.35,1), opacity 300ms;
    }

    /* Centered item scale + prominence */
    .client-logo.is-center {
      transform: scale(1.12);
      z-index: 5;
      opacity: 1;
    }

    /* Non-centered logos slightly dimmed */
    .client-logo.dimmed {
      opacity: 0.55;
      transform: scale(0.98);
      z-index: 1;
    }

    /* smooth image fit */
    .client-logo img {
      max-height: 3.75rem; /* ~max-h-16 */
      max-width: 100%;
      object-fit: contain;
      display: block;
    }

    /* Prevent text selection while dragging or clicking */
    .logo-slider, .logo-track, .client-logo { user-select: none; -webkit-user-select: none; -ms-user-select: none; }

    /* Small responsive tweak */
    @media (max-width: 640px) {
      .client-logo { width: 7.5rem; height: 4rem; }
      .client-logo img { max-height: 3rem; }
    }
  </style>
</head>

<body>
  <!-- Header -->
  <header>
    <div class="flex items-center space-x-2">
      <img class="h-12 w-14" src="/images/psypan-logo-transparent.png" alt="Psyche Panacea">
      <div class="text-2xl font-bold text-primary">Psyche Panacea</div>
    </div>
    <nav class="hidden md:flex items-center space-x-5">
      <a href="index.html" class="text-primary font-semibold transition-colors px-2 py-1">Home</a>
      <a href="services.html" class="text-gray-700 hover:text-primary transition-colors px-2 py-1">Services</a>
      <a href="flagship-programs.html" class="text-gray-700 hover:text-primary transition-colors px-2 py-1">Flagship
        Programs</a>
      <a href="events.html" class="text-gray-700 hover:text-primary transition-colors px-2 py-1">Events</a>
      <a href="gallery.html" class="text-gray-700 hover:text-primary transition-colors px-2 py-1">Gallery</a>
      <a href="about-us.html" class="text-gray-700 hover:text-primary transition-colors px-2 py-1">About Us</a>
      <a href="blogs.html" class="text-gray-700 hover:text-primary transition-colors px-2 py-1">Blogs</a>
      <a href="contact.html" class="text-gray-700 hover:text-primary transition-colors px-2 py-1">Contact</a>
    </nav>

    <!-- Mobile Menu Button -->
    <div class="md:hidden flex items-center">
      <button id="mobile-menu-button" class="text-gray-700 hover:text-primary">
        <svg class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
        </svg>
      </button>
    </div>
  </header>

  <!-- Mobile Dropdown Menu -->
  <div id="mobile-menu" class="mt-16 md:hidden bg-white shadow-lg rounded-b-lg hidden">
    <div class="px-2 pt-2 pb-3 space-y-1 sm:px-3">
      <a href="index.html" class="block px-3 py-2 rounded-md text-base font-medium text-primary bg-blue-50">Home</a>
      <a href="services.html"
        class="block px-3 py-2 rounded-md text-base font-medium text-gray-700 hover:text-primary hover:bg-blue-50">Services</a>
      <a href="flagship-programs.html"
        class="block px-3 py-2 rounded-md text-base font-medium text-gray-700 hover:text-primary hover:bg-blue-50">Flagship
        Programs</a>
      <a href="events.html"
        class="block px-3 py-2 rounded-md text-base font-medium text-gray-700 hover:text-primary hover:bg-blue-50">Events</a>
      <a href="gallery.html"
        class="block px-3 py-2 rounded-md text-base font-medium text-gray-700 hover:text-primary hover:bg-blue-50">Gallery</a>
      <a href="about-us.html"
        class="block px-3 py-2 rounded-md text-base font-medium text-gray-700 hover:text-primary hover:bg-blue-50">About
        Us</a>
      <a href="blogs.html"
        class="block px-3 py-2 rounded-md text-base font-medium text-gray-700 hover:text-primary hover:bg-blue-50">Blogs</a>
      <a href="contact.html"
        class="block px-3 py-2 rounded-md text-base font-medium text-gray-700 hover:text-primary hover:bg-blue-50">Contact</a>
    </div>
  </div>

  <!-- Hero Section -->
  <section class="pt-32 relative overflow-hidden">
    <!-- Background slideshow container -->
    <div class="absolute inset-0 z-0">
      <!-- Background overlay -->
      <div class="absolute inset-0 bg-black opacity-50 z-10"></div>

      <!-- Slideshow images -->
      <div class="slideshow-container">
        <div class="slide"
          style="background-image: url('https://images.unsplash.com/photo-1497366754035-f200968a6e72?ixlib=rb-4.0.3&auto=format&fit=crop&w=1950&q=80');">
        </div>
        <div class="slide"
          style="background-image: url('https://images.unsplash.com/photo-1521737711867-e3b97375f902?ixlib=rb-4.0.3&auto=format&fit=crop&w=1950&q=80');">
        </div>
        <div class="slide"
          style="background-image: url('https://images.unsplash.com/photo-1491336477066-31156b5e4f35?ixlib=rb-4.0.3&auto=format&fit=crop&w=1950&q=80');">
        </div>
        <div class="slide"
          style="background-image: url('https://images.unsplash.com/photo-1522202176988-66273c2fd55f?ixlib=rb-4.0.3&auto=format&fit=crop&w=1950&q=80');">
        </div>
        <div class="slide"
          style="background-image: url('https://images.unsplash.com/photo-1517245386807-bb43f82c33c4?ixlib=rb-4.0.3&auto=format&fit=crop&w=1950&q=80');">
        </div>
      </div>
    </div>

    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16 md:py-24 relative z-10">
      <div class="flex items-center">

        <!-- ← Arrows -->
        <div class="flex flex-col items-center space-y-4 mr-8">
          <button id="arrow-up"
            class="w-12 h-12 bg-white rounded-full shadow flex items-center justify-center transform transition duration-200 hover:scale-110 hover:bg-secondary">
            ▲
          </button>
          <button id="arrow-down"
            class="w-12 h-12 bg-white rounded-full shadow flex items-center justify-center transform transition duration-200 hover:scale-110 hover:bg-secondary">
            ▼
          </button>
        </div>

        <!-- → Text & CTAs -->
        <div class="overflow-hidden">
          <div id="slide-container" class="space-y-6 transform transition-all duration-700 ease-in-out opacity-100">

            <!-- Title + bar -->
            <div class="flex items-center space-x-4">
              <div class="w-1 h-12 bg-primary"></div>
              <h1 class="text-4xl md:text-5xl font-bold text-white leading-tight">
                Welcome To<br>
                <span class="text-white">Psyche Panacea</span>
              </h1>
            </div>

            <!-- Dynamic service line -->
            <div id="service-label" class="text-xl text-gray-200 font-medium">
              HR Consulting
            </div>

            <!-- Static subtitle -->
            <p class="text-lg text-gray-200">
              Served <span class="font-bold text-primary">350+</span> Clients Since 2001
            </p>

            <!-- CTAs -->
            <div class="flex flex-wrap gap-4">
              <a href="#contact"
                class="bg-primary hover:bg-secondary text-white px-6 py-3 rounded-lg font-medium transition duration-300">
                Call Us
              </a>
              <a href="#services"
                class="bg-white text-primary border-2 border-primary hover:bg-gray-100 px-6 py-3 rounded-lg font-medium transition duration-300">
                Know More
              </a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>
 
  <!-- Stats Section -->
  <section class="bg-primary py-12">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="grid grid-cols-2 md:grid-cols-4 gap-8 text-center">
        <div class="animate-on-scroll">
          <div id="clients-stat" class="stats-value">350+</div>
          <div class="stats-label">Satisfied Clients</div>
        </div>
        <div class="animate-on-scroll">
          <div id="experience-stat" class="stats-value">24+</div>
          <div class="stats-label">Years of Experience</div>
        </div>
        <div class="animate-on-scroll">
          <div id="retention-stat" class="stats-value">98%</div>
          <div class="stats-label">Training Associates</div>
        </div>
        <div class="animate-on-scroll">
          <div id="trained-stat" class="stats-value">5000+</div>
          <div class="stats-label">Participants Trained</div>
        </div>
      </div>
    </div>
  </section>

  <!-- About Section -->
  <section id="about" class="py-16 bg-light">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="text-center mb-16">
        <h2 class="text-3xl font-bold text-dark mb-4 animate-on-scroll">About Psyche Panacea</h2>
        <div class="w-20 h-1 bg-primary mx-auto mb-6"></div>
        <p class="text-xl text-gray-600 max-w-3xl mx-auto animate-on-scroll">
          Pioneers in Corporate Training Solutions
        </p>
      </div>

      <div class="grid grid-cols-1 lg:grid-cols-2 gap-12 items-center">
        <div class="animate-on-scroll">
          <div class=" w-full h-96"><img class="object-contain w-full h-full" src="/images/psypan-logo-transparent.png"
              alt=""></div>
        </div>
        <div class="animate-on-scroll">
          <p class="text-lg text-gray-700 mb-6">
            Psyche Panacea has been at the forefront of corporate training and HR consulting since 2001. With over 350
            satisfied clients, we bring innovative methodologies and transformative experiences to organizations across
            India.
          </p>
          <p class="text-lg text-gray-700 mb-8">
            Our unique approach combines psychological insights with practical business applications, creating programs
            that deliver measurable ROI and lasting impact.
          </p>
          <ul class="space-y-4 mb-8">
            <li class="flex items-start">
              <div class="flex-shrink-0 mt-1">
                <div class="w-6 h-6 rounded-full bg-green-500 flex items-center justify-center">
                  <i class="fas fa-check text-white text-xs"></i>
                </div>
              </div>
              <p class="ml-3 text-lg text-gray-700">Proven methodologies with measurable results</p>
            </li>
            <li class="flex items-start">
              <div class="flex-shrink-0 mt-1">
                <div class="w-6 h-6 rounded-full bg-green-500 flex items-center justify-center">
                  <i class="fas fa-check text-white text-xs"></i>
                </div>
              </div>
              <p class="ml-3 text-lg text-gray-700">Customized solutions for diverse industries</p>
            </li>
            <li class="flex items-start">
              <div class="flex-shrink-0 mt-1">
                <div class="w-6 h-6 rounded-full bg-green-500 flex items-center justify-center">
                  <i class="fas fa-check text-white text-xs"></i>
                </div>
              </div>
              <p class="ml-3 text-lg text-gray-700">Expert trainers with industry experience</p>
            </li>
          </ul>
          <a href="#contact"
            class="inline-block bg-primary hover:bg-secondary text-white px-6 py-3 rounded-lg font-medium transition duration-300">
            Connect With Us
          </a>
        </div>
      </div>
    </div>
  </section>

  <!-- Services Section — Flip-on-hover cards (copy-paste) -->
  <section id="services" class="py-16">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="text-center mb-16">
        <h2 class="text-3xl font-bold text-dark mb-4">Our Services</h2>
        <div class="w-20 h-1 bg-primary mx-auto mb-6"></div>
        <p class="text-xl text-gray-600 max-w-3xl mx-auto">
          Innovative training solutions that drive measurable results
        </p>
      </div>

      <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
        <!-- Card 1 -->
        <article class="flip-card bg-white rounded-xl shadow-lg animate-on-scroll" tabindex="0" role="button"
          aria-pressed="false">
          <div class="flip-card-inner">
            <!-- FRONT: icon + label -->
            <div class="flip-card-front">
              <div class="flex items-center space-x-4">
                <div class="w-16 h-16 bg-blue-100 rounded-lg flex items-center justify-center">
                  <i class="fas fa-hiking text-primary text-2xl" aria-hidden="true"></i>
                </div>
                <div>
                  <h3 class="text-xl font-bold text-dark mb-0">Outbound Training</h3>
                  <p class="text-sm text-gray-500 mt-1">Experiential team-building</p>
                </div>
              </div>
            </div>

            <!-- BACK: details -->
            <div class="flip-card-back">
              <div class="card-back-inner">
                <h4 class="text-lg font-semibold text-dark">Outbound Training</h4>
                <p class="text-gray-600">
                  Adventure-based modules to build leadership, trust and measurable team performance. Custom routes,
                  expert facilitators and post-event action planning included.
                </p>
                <div class="mt-2">
                  <a href="#contact"
                    class="inline-block px-4 py-2 rounded-md border border-primary text-primary hover:bg-primary hover:text-white transition">Learn
                    more</a>
                </div>
              </div>
            </div>
          </div>
        </article>

        <!-- Card 2 -->
        <article class="flip-card bg-white rounded-xl shadow-lg animate-on-scroll" tabindex="0" role="button"
          aria-pressed="false">
          <div class="flip-card-inner">
            <!-- FRONT -->
            <div class="flip-card-front">
              <div class="flex items-center space-x-4">
                <div class="w-16 h-16 bg-green-100 rounded-lg flex items-center justify-center">
                  <i class="fas fa-heart text-primary text-2xl" aria-hidden="true"></i>
                </div>
                <div>
                  <h3 class="text-xl font-bold text-dark mb-0">SAHYOG Wellness</h3>
                  <p class="text-sm text-gray-500 mt-1">Mental health & resilience</p>
                </div>
              </div>
            </div>

            <!-- BACK -->
            <div class="flip-card-back">
              <div class="card-back-inner">
                <h4 class="text-lg font-semibold text-dark">SAHYOG Wellness</h4>
                <p class="text-gray-600">
                  Counseling, resilience workshops and manager coaching to support employee wellbeing and productivity.
                  Tailored plans and ongoing check-ins available.
                </p>
                <div class="mt-2">
                  <a href="#contact"
                    class="inline-block px-4 py-2 rounded-md border border-primary text-primary hover:bg-primary hover:text-white transition">Get
                    in touch</a>
                </div>
              </div>
            </div>
          </div>
        </article>

        <!-- Card 3 -->
        <article class="flip-card bg-white rounded-xl shadow-lg animate-on-scroll" tabindex="0" role="button"
          aria-pressed="false">
          <div class="flip-card-inner">
            <!-- FRONT -->
            <div class="flip-card-front">
              <div class="flex items-center space-x-4">
                <div class="w-16 h-16 bg-purple-100 rounded-lg flex items-center justify-center">
                  <i class="fas fa-shield-alt text-primary text-2xl" aria-hidden="true"></i>
                </div>
                <div>
                  <h3 class="text-xl font-bold text-dark mb-0">POSH Certification</h3>
                  <p class="text-sm text-gray-500 mt-1">Safety & compliance</p>
                </div>
              </div>
            </div>

            <!-- BACK -->
            <div class="flip-card-back">
              <div class="card-back-inner">
                <h4 class="text-lg font-semibold text-dark">POSH Certification</h4>
                <p class="text-gray-600">
                  Full workplace prevention training, policy drafting and assessments aligned to statutory requirements.
                  Role-based sessions and compliance reporting included.
                </p>
                <div class="mt-2">
                  <a href="#contact"
                    class="inline-block px-4 py-2 rounded-md border border-primary text-primary hover:bg-primary hover:text-white transition">Request
                    quote</a>
                </div>
              </div>
            </div>
          </div>
        </article>

      </div>
    </div>
  </section>

  <section id="experience" class="py-16 bg-white">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="text-center mb-8">
        <h2 class="text-3xl md:text-4xl font-bold text-gray-900 mb-3">Trusted by Industry Leaders</h2>
        <div class="h-1 w-20 bg-indigo-600 mx-auto rounded"></div>
      </div>

      <!-- Carousel container -->
      <div class="logo-slider overflow-hidden relative w-full h-28 bg-blue-50 rounded-xl py-4">
        <div class="logo-track" id="logoTrack">
          <!-- ORIGINAL SET -->
          <div class="client-logo"><img src="/images/clients/honda.png" alt="Honda"></div>
          <div class="client-logo"><img src="/images/clients/maruti.png" alt="Maruti Suzuki"></div>
          <div class="client-logo"><img src="/images/clients/hero.png" alt="Hero"></div>
          <div class="client-logo"><img src="/images/clients/jcb.png" alt="JCB"></div>
          <div class="client-logo"><img src="/images/clients/BirlaYamaha.png" alt="Yamaha"></div>
          <div class="client-logo"><img src="/images/clients/Suzuki-Motorcycles.png" alt="Suzuki Motorcycles"></div>
          <div class="client-logo"><img src="/images/clients/jktyre.png" alt="JK Tyres"></div>
          <div class="client-logo"><img src="/images/clients/Escort.png" alt="Escort"></div>
          <div class="client-logo"><img src="/images/clients/Sona-Koyo.jpg" alt="Sona Koyo"></div>
          <div class="client-logo"><img src="/images/clients/minda.png" alt="Minda"></div>

          <!-- DUPLICATE SET for seamless infinite loop -->
          <div class="client-logo"><img src="/images/clients/honda.png" alt="Honda"></div>
          <div class="client-logo"><img src="/images/clients/maruti.png" alt="Maruti Suzuki"></div>
          <div class="client-logo"><img src="/images/clients/hero.png" alt="Hero"></div>
          <div class="client-logo"><img src="/images/clients/jcb.png" alt="JCB"></div>
          <div class="client-logo"><img src="/images/clients/BirlaYamaha.png" alt="Yamaha"></div>
          <div class="client-logo"><img src="/images/clients/Suzuki-Motorcycles.png" alt="Suzuki Motorcycles"></div>
          <div class="client-logo"><img src="/images/clients/jktyre.png" alt="JK Tyres"></div>
          <div class="client-logo"><img src="/images/clients/Escort.png" alt="Escort"></div>
          <div class="client-logo"><img src="/images/clients/Sona-Koyo.jpg" alt="Sona Koyo"></div>
          <div class="client-logo"><img src="/images/clients/minda.png" alt="Minda"></div>
        </div>
      </div>
    </div>
  </section>

  <!-- Testimonials Section -->
  <section id="testimonials" class="py-16">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="text-center mb-16">
        <h2 class="text-3xl font-bold text-dark mb-4 animate-on-scroll">What Our Clients Say</h2>
        <div class="w-20 h-1 bg-primary mx-auto mb-6"></div>
      </div>

      <div class="max-w-4xl mx-auto testimonial-card rounded-2xl p-8 shadow-lg">
        <!-- Photo + Name/Role -->
        <div class="flex items-center mb-6">
          <img id="testimonial-photo" src="" alt="Client photo" class="w-16 h-16 rounded-full object-cover" />
          <div class="ml-4">
            <div id="testimonial-name" class="font-bold text-lg">Name Here</div>
            <div id="testimonial-role" class="text-primary">Role • Company</div>
          </div>
        </div>

        <!-- Text -->
        <p id="testimonial-text" class="text-gray-700 text-xl italic mb-6">
          “Testimonial text goes here.”
        </p>

        <!-- Stars -->
        <div id="testimonial-stars" class="flex mb-6"></div>

        <!-- Controls -->
        <div class="flex justify-between">
          <button id="prev-btn" class="text-gray-500 hover:text-primary">
            <i class="fas fa-chevron-left"></i> Prev
          </button>
          <button id="next-btn" class="text-gray-500 hover:text-primary">
            Next <i class="fas fa-chevron-right"></i>
          </button>
        </div>
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer class="bg-gray-900 text-white py-12">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-start">
        <!-- Left half: Map -->
        <div class="w-full map-container rounded-xl overflow-hidden border-2 border-blue-700 shadow-lg">
          <iframe src="https://maps.google.com/maps?q=28.467519771527627,77.03697016794533&z=15&output=embed"
            width="100%" height="100%" frameborder="0" style="border:0;" allowfullscreen loading="lazy"
            class="filter grayscale hover:grayscale-0 transition-all duration-500 pointer-events-auto"
            gestureHandling="greedy">
          </iframe>
        </div>

        <!-- Right half: Content -->
        <div class="grid grid-cols-1 gap-8">
          <!-- Company Info -->
          <div>
            <div class="flex items-center mb-4">
              <div class="bg-gradient-to-r from-blue-600 to-blue-800 p-2 rounded-lg mr-3">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-white" fill="none" viewBox="0 0 24 24"
                  stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                    d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4" />
                </svg>
              </div>
              <h3 class="text-xl font-bold text-blue-400">Psyche Panacea</h3>
            </div>
            <p class="text-gray-400">
              Pioneers of innovative and breakthrough methodologies in the Indian consultation arena,
              transforming organizations through strategic HR solutions.
            </p>
          </div>

          <!-- Contact Info -->
          <div>
            <h4 class="text-lg font-semibold mb-3 text-blue-400 border-b border-blue-700 pb-1">Contact Us
            </h4>
            <ul class="space-y-4 text-gray-400 text-sm">
              <li class="flex items-start">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-3 mt-1 text-blue-500" fill="none"
                  viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                    d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" />
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                    d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" />
                </svg>
                <span>308/2, Old Delhi Rd, adjacent Country Inn,<br>Sector 12 A, Anamika
                  Enclave,<br>Sector 14, Gurugram, Haryana 122001</span>
              </li>
              <li class="flex items-center">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-3 text-blue-500" fill="none"
                  viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                    d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z" />
                </svg>
                <span>09810323292, 09810319292</span>
              </li>
              <li class="flex items-center">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-3 text-blue-500" fill="none"
                  viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                    d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />
                </svg>
                <span>hr@psypanconsulting.com</span>
              </li>
            </ul>
          </div>
        </div>
      </div>

      <!-- Footer Bottom -->
      <div class="border-t border-gray-800 mt-12 pt-6 text-center text-gray-500 text-sm">
        <p>© 2023 Psyche Panacea. All rights reserved. Designed by Psyche Panacea Team.</p>
      </div>
    </div>
  </footer>

  <!-- Chatbot -->
  <div class="chatbot fixed bottom-8 right-2 sm:right-8 z-50">
    <div id="chatbotToggle"
      class="chatbot-toggle w-14 h-14 sm:w-16 sm:h-16 bg-gradient-to-br from-primary to-secondary rounded-full flex items-center justify-center cursor-pointer shadow-lg">
      <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#ffffff" stroke-width="2">
        <path
          d="M21 11.5a8.38 8.38 0 0 1-12.5 7.5 8.38 8.38 0 0 1-7.5-12.5 8.38 8.38 0 0 1 12.5-7.5 8.38 8.38 0 0 1 7.5 12.5z">
        </path>
        <path d="M9 9h6v6H9z"></path>
      </svg>
    </div>

    <div id="chatbotWindow"
      class="chatbot-window absolute bottom-20 sm:bottom-24 right-0 bg-white rounded-xl shadow-2xl hidden border border-blue-100 overflow-hidden">
      <div
        class="chatbot-header bg-gradient-to-r from-primary to-blue-600 text-white p-3 sm:p-4 rounded-t-xl flex justify-between items-center">
        <span class="font-bold text-base sm:text-lg">Psyche Panacea Assistant</span>
        <span id="chatbotClose" class="chatbot-close cursor-pointer text-2xl leading-none">×</span>
      </div>

      <div id="chatbotBody" class="chatbot-body p-3 sm:p-4 overflow-y-auto">
        <div
          class="chatbot-message bot bg-blue-50 text-gray-800 rounded-lg p-2 sm:p-3 mb-3 max-w-[80%] float-left clear-both text-sm sm:text-base">
          Welcome! How can I assist with your training goals today?
        </div>
      </div>

      <div class="chatbot-input p-2 sm:p-3 border-t border-gray-200 flex">
        <input id="chatbotInput" type="text"
          class="flex-1 p-2 sm:p-3 border border-gray-300 rounded-lg text-sm sm:text-base mr-2"
          placeholder="Ask about our programs...">
        <button id="chatbotSend"
          class="bg-primary text-white px-3 sm:px-4 py-2 sm:py-3 rounded-lg font-semibold text-sm sm:text-base">
          Send
        </button>
      </div>
    </div>
  </div>

  <script>
    // Firebase configuration
    const firebaseConfig = {
      apiKey: "AIzaSyA8t0YBEkZ-hDHmw7u8aud-jwNybYEKnbU",
      authDomain: "psypanweb-7747a.firebaseapp.com",
      projectId: "psypanweb-7747a",
      storageBucket: "psypanweb-7747a.appspot.com",
      messagingSenderId: "441049264188",
      appId: "1:441049264188:web:4dab8de0554b2c7c741339",
      measurementId: "G-C1CTMX729Z"
    };

    // Initialize Firebase
    firebase.initializeApp(firebaseConfig);
    const db = firebase.firestore();

    // Fetch stats from Firestore
    function fetchStats() {
      const statsRef = db.collection('numdata').doc('stats');

      statsRef.get().then((doc) => {
        if (doc.exists) {
          const data = doc.data();
          document.getElementById('clients-stat').textContent = data.companies + '';
          document.getElementById('experience-stat').textContent = data.experience + '';
          document.getElementById('retention-stat').textContent = data.associates + '';
          document.getElementById('trained-stat').textContent = data.participants + '';
        } else {
          console.log("No such document!");
        }
      }).catch((error) => {
        console.log("Error getting document:", error);
      });
    }

    (function () {
      const track = document.getElementById('logoTrack');
      const container = track.parentElement;
      let items = Array.from(track.children);
      const originalCount = items.length / 2; // first half is original
      let index = 0; // index of centered item within original set (0 .. originalCount-1)
      const pauseDuration = 1800; // pause while center is scaled (ms)
      const stepDelay = 2200;    // time between step starts (ms)
      const moveDuration = 600;  // must match CSS transition for transform
      let timer = null;
      let locked = false; // avoid concurrent actions

      // Utility to compute and apply transform so item at items[i] is centered
      function centerItemByAbsoluteIndex(absIndex, animate = true) {
        const item = items[absIndex];
        if (!item) return;
        const itemCenter = item.offsetLeft + (item.offsetWidth / 2);
        const containerCenter = container.clientWidth / 2;
        const translateX = containerCenter - itemCenter;
        if (!animate) track.style.transition = 'none';
        else track.style.transition = `transform ${moveDuration}ms cubic-bezier(.22,.9,.35,1)`;
        track.style.transform = `translateX(${translateX}px)`;
        // re-enable transition after applying non-animated transform
        if (!animate) requestAnimationFrame(() => { track.style.transition = ''; });
      }

      // Update classes (scale center, dim others)
      function updateClasses(absIndex) {
        items.forEach((el, i) => {
          el.classList.remove('is-center', 'dimmed');
          // Because we have duplicate elements, we want the focused absolute index to be shown as center.
        });
        // mark center
        const centerEl = items[absIndex];
        if (centerEl) centerEl.classList.add('is-center');
        // dim other visible ones
        items.forEach((el, i) => {
          if (i !== absIndex) el.classList.add('dimmed');
        });
      }

      // Advance to next index (step movement)
      async function stepForward() {
        if (locked) return;
        locked = true;
        // absolute index in the track (0..items.length-1)
        // current absolute index corresponds to index (original set) plus offset
        // We'll keep track in terms of an absolute center index `absCenter`.
        let absCenter = currentAbsoluteCenter();
        // first ensure center is applied (scale up + pause)
        updateClasses(absCenter);

        // pause while center is scaled
        await wait(pauseDuration);

        // increment center to next
        absCenter++;
        index++;
        // move transform to new center
        centerItemByAbsoluteIndex(absCenter, true);

        // after the move transition ends, update classes
        await wait(moveDuration + 30);
        updateClasses(absCenter);

        // handle seamless looping: if index reached originalCount, jump back
        if (index >= originalCount) {
          // compute new absolute index equivalent after removing originalCount offset
          index = index - originalCount;
          // absCenter currently points into second half (>= originalCount)
          const newAbsCenter = absCenter - originalCount;
          // disable transition and jump immediately to newAbsCenter
          centerItemByAbsoluteIndex(newAbsCenter, false);
          // refresh items references and classes
          updateClasses(newAbsCenter);
        }

        locked = false;
      }

      // helper: compute currently centered absolute index from index variable:
      // We will define that the currently centered absolute index equals index (0..originalCount-1)
      // plus the currentOffsetBlock (we always start in the first block at init).
      // But to allow continuous movement to the second block and smooth resets, we track absolute center by reading transform and matching closest item center to container center.
      function currentAbsoluteCenter() {
        // find the item whose center is closest to the container center visually
        const containerCenterX = container.getBoundingClientRect().left + container.clientWidth / 2;
        let closestIndex = 0;
        let closestDist = Infinity;
        items.forEach((it, i) => {
          const rect = it.getBoundingClientRect();
          const centerX = rect.left + rect.width / 2;
          const dist = Math.abs(centerX - containerCenterX);
          if (dist < closestDist) { closestDist = dist; closestIndex = i; }
        });
        return closestIndex;
      }

      // small promise-based wait
      function wait(ms) { return new Promise(res => setTimeout(res, ms)); }

      // init: wait until images load so sizes are correct
      function whenImagesLoaded() {
        const imgs = track.querySelectorAll('img');
        const promises = Array.from(imgs).map(img => {
          if (img.complete) return Promise.resolve();
          return new Promise((res) => img.addEventListener('load', res, { once: true }));
        });
        return Promise.all(promises);
      }

      // Start the carousel
      async function init() {
        await whenImagesLoaded();
        // refresh items array (in case)
        items = Array.from(track.children);

        // Center the very first item (abs index 0)
        const initialAbsIndex = 0;
        centerItemByAbsoluteIndex(initialAbsIndex, false);
        updateClasses(initialAbsIndex);

        // Start auto stepping
        timer = setInterval(() => {
          stepForward().catch(console.error);
        }, stepDelay);
      }

      // Pause on hover for better UX
      container.addEventListener('mouseenter', () => {
        clearInterval(timer); timer = null;
      });
      container.addEventListener('mouseleave', () => {
        if (!timer) timer = setInterval(() => { stepForward().catch(console.error); }, stepDelay);
      });

      // On window resize, re-center the current item so layout stays centered
      window.addEventListener('resize', () => {
        // small debounce
        clearTimeout(window._logoResizeTimeout);
        window._logoResizeTimeout = setTimeout(() => {
          const absCenter = currentAbsoluteCenter();
          centerItemByAbsoluteIndex(absCenter, false);
        }, 120);
      });

      // kick off
      init().catch(console.error);
    })();

      (function () {
        const cards = document.querySelectorAll('.flip-card');

        // Keyboard toggle for each card
        cards.forEach(card => {
          card.addEventListener('keydown', (e) => {
            if (e.key === 'Enter' || e.key === ' ') {
              e.preventDefault();
              card.classList.toggle('is-flipped');
              const pressed = card.classList.contains('is-flipped');
              card.setAttribute('aria-pressed', pressed.toString());
            }
          });

          // Click/tap toggles flip for touch devices (and mouse clicks)
          card.addEventListener('click', (e) => {
            // allow links inside the card to work normally
            if (e.target.closest('a')) return;
            // If device supports hover, keep hover behavior; but clicks should still work
            card.classList.toggle('is-flipped');
            const pressed = card.classList.contains('is-flipped');
            card.setAttribute('aria-pressed', pressed.toString());
          });

          // When focus leaves the card, remove flipped state so keyboard users don't leave it flipped unintentionally
          card.addEventListener('focusout', (e) => {
            // small timeout to allow focus to move to internal links/buttons
            setTimeout(() => {
              if (!card.contains(document.activeElement)) {
                card.classList.remove('is-flipped');
                card.setAttribute('aria-pressed', 'false');
              }
            }, 10);
          });
        });
      })();

      ; (function () {
        const services = [
          'HR Consulting',
          'Employee Assistance Program',
          'Employee Engagement Services',
          'Management Trainings'
        ];
        let idx = 0;

        const wrapper = document.getElementById('slide-container');
        const label = document.getElementById('service-label');
        const up = document.getElementById('arrow-up');
        const down = document.getElementById('arrow-down');

        function slide(direction, nextIdx) {
          // slide out
          wrapper.style.transform = direction === 'up'
            ? 'translateY(-100%)'
            : 'translateY(100%)';
          wrapper.style.opacity = '0';

          wrapper.addEventListener('transitionend', function handler() {
            wrapper.removeEventListener('transitionend', handler);

            // update service text
            label.textContent = services[nextIdx];

            // trigger pop animation
            label.classList.add('pop');
            label.addEventListener('animationend', () => {
              label.classList.remove('pop');
            }, { once: true });

            // jump in from opposite
            wrapper.style.transition = 'none';
            wrapper.style.transform = direction === 'up'
              ? 'translateY(100%)'
              : 'translateY(-100%)';
            wrapper.style.opacity = '0';

            // animate in
            requestAnimationFrame(() => {
              wrapper.style.transition = 'transform 0.7s ease-in-out, opacity 0.7s ease-in-out';
              wrapper.style.transform = 'translateY(0)';
              wrapper.style.opacity = '1';
            });
          });
        }

        up.addEventListener('click', () => {
          const next = (idx + 1) % services.length;
          slide('up', next);
          idx = next;
        });

        down.addEventListener('click', () => {
          const next = (idx - 1 + services.length) % services.length;
          slide('down', next);
          idx = next;
        });
      })();


      const testimonials = [
        {
          photo: '/images/testimonials/vishal-shukla.jpg',
          name: 'Vishal Shukla',
          role: 'GM Sales',
          company: 'True Value',
          text: 'Associated with Psyche Panacea for last 10 years, Well Experienced Trainers Available In Pan India.',
          rating: 5
        },
        {
          photo: '/images/testimonials/sunita-pouroush.jpg',
          name: 'Sunita Pouroush',
          role: 'Asst Prof',
          company: 'NCERT',
          text: 'A long professional association, excellent services, keep doing good work',
          rating: 5
        },
        {
          photo: '/images/testimonials/neha-goel.jpg',
          name: 'Neha Goel',
          role: 'Centre of Innovation',
          company: 'HMC - Jaipur',
          text: 'Amazing team…Deepa and team always do great job in giving best experience to employees.',
          rating: 5
        }
        // …add more as you like
      ];

      // 2) Cache DOM nodes
      const cardEl = document.querySelector('.testimonial-card');
      const photoEl = document.getElementById('testimonial-photo');
      const nameEl = document.getElementById('testimonial-name');
      const roleEl = document.getElementById('testimonial-role');
      const textEl = document.getElementById('testimonial-text');
      const starsEl = document.getElementById('testimonial-stars');
      const prevBtn = document.getElementById('prev-btn');
      const nextBtn = document.getElementById('next-btn');

      let current = 0;

      // 3) Render + animate
      function renderTestimonial(idx, direction) {
        // remove any old animation classes
        cardEl.classList.remove('slide-in-right', 'slide-in-left');
        // force reflow so animation restarts
        void cardEl.offsetWidth;
        // add the correct slide-in class
        cardEl.classList.add(direction === 'next' ? 'slide-in-right' : 'slide-in-left');

        // update content
        const t = testimonials[idx];
        photoEl.src = t.photo;
        photoEl.alt = t.name + ' photo';
        nameEl.textContent = t.name;
        roleEl.textContent = `${t.role} • ${t.company}`;
        textEl.textContent = t.text;

        // rebuild stars
        starsEl.innerHTML = '';
        for (let i = 0; i < 5; i++) {
          const star = document.createElement('i');
          star.className = i < t.rating ? 'fas fa-star' : 'far fa-star';
          star.classList.add('mr-1');
          starsEl.appendChild(star);
        }
      }

      // 4) Wire up buttons
      prevBtn.addEventListener('click', () => {
        current = (current - 1 + testimonials.length) % testimonials.length;
        renderTestimonial(current, 'prev');
      });
      nextBtn.addEventListener('click', () => {
        current = (current + 1) % testimonials.length;
        renderTestimonial(current, 'next');
      });

      // 5) Initial render (no animation)
      renderTestimonial(current, 'next');
      // Mobile Menu Toggle
      const mobileMenuButton = document.getElementById('mobile-menu-button');
      const mobileMenu = document.getElementById('mobile-menu');

      mobileMenuButton.addEventListener('click', () => {
        mobileMenu.classList.toggle('hidden');
      });

      // Smooth scrolling for anchor links
      document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function (e) {
          e.preventDefault();

          const targetId = this.getAttribute('href');
          const targetElement = document.querySelector(targetId);

          if (targetElement) {
            window.scrollTo({
              top: targetElement.offsetTop - 80,
              behavior: 'smooth'
            });

            // Close mobile menu if open
            mobileMenu.classList.add('hidden');
          }
        });
      });

      // Scroll animations
      const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            entry.target.classList.add('active');
          }
        });
      }, {
        threshold: 0.1
      });

      document.querySelectorAll('.animate-on-scroll').forEach((el) => {
        observer.observe(el);
      });

      // Chatbot Functionality
      function toggleChatbot() {
        const chatbotWindow = document.getElementById('chatbotWindow');
        chatbotWindow.style.display = chatbotWindow.style.display === 'block' ? 'none' : 'block';
      }

      function sendMessage() {
        const input = document.getElementById('chatbotInput');
        const message = input.value.trim();
        if (!message) return;

        const chatbotBody = document.getElementById('chatbotBody');
        const userMessage = document.createElement('div');
        userMessage.className = 'chatbot-message user bg-primary text-white rounded-lg p-3 mb-3 max-w-[80%] float-right clear-both text-sm sm:text-base';
        userMessage.textContent = message;
        chatbotBody.appendChild(userMessage);

        // Simulate bot response with typing indicator
        const typingIndicator = document.createElement('div');
        typingIndicator.className = 'chatbot-message bot bg-blue-50 text-gray-800 rounded-lg p-3 mb-3 max-w-[80%] float-left clear-both text-sm sm:text-base';
        typingIndicator.textContent = 'Typing...';
        chatbotBody.appendChild(typingIndicator);
        chatbotBody.scrollTop = chatbotBody.scrollHeight;

        setTimeout(() => {
          chatbotBody.removeChild(typingIndicator);
          const botMessage = document.createElement('div');
          botMessage.className = 'chatbot-message bot bg-blue-50 text-gray-800 rounded-lg p-3 mb-3 max-w-[80%] float-left clear-both text-sm sm:text-base';
          botMessage.textContent = getBotResponse(message);
          chatbotBody.appendChild(botMessage);
          chatbotBody.scrollTop = chatbotBody.scrollHeight;
        }, 1000);

        input.value = '';
        chatbotBody.scrollTop = chatbotBody.scrollHeight;
      }

      function getBotResponse(message) {
        const lowerMessage = message.toLowerCase();
        if (lowerMessage.includes('contact') || lowerMessage.includes('address'))
          return 'Our office is located at 308/2, Old Delhi Road, Near Country Inn Hotel, Sector 12 A, Gurgaon 122001.';
        if (lowerMessage.includes('phone') || lowerMessage.includes('call'))
          return 'You can reach us at +91 9810319292 or +91 9810323292.';
        if (lowerMessage.includes('email') || lowerMessage.includes('mail'))
          return 'For inquiries, please email us at hr@psypanconsulting.com';
        if (lowerMessage.includes('training') || lowerMessage.includes('program'))
          return 'We offer various training programs including Outbound Training, SAHYOG Wellness, and POSH Certification.';
        if (lowerMessage.includes('service') || lowerMessage.includes('offer'))
          return 'We provide corporate training solutions in leadership development, team building, and mental wellness programs.';
        return 'I’m here to help! Could you share more details about your query?';
      }

      // Set up chatbot event listeners
      document.getElementById('chatbotToggle').addEventListener('click', toggleChatbot);
      document.getElementById('chatbotClose').addEventListener('click', toggleChatbot);
      document.getElementById('chatbotSend').addEventListener('click', sendMessage);
      document.getElementById('chatbotInput').addEventListener('keypress', (e) => {
        if (e.key === 'Enter') sendMessage();
      });
    });
  </script>
</body>

</html>